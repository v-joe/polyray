/*

  Copyright (C) 1993, Alexander Enzmann, All rights reserved.

  You may not distribute this software, in whole or in part,
  without the express consent of the authors.

  There is no warranty or other guarantee of fitness of this software
  for any purpose.  It is provided solely "as is".

*/
#include "defs.h"
#include "io.h"
#include "memory.h"
#include "psupport.h"
#include "symtab.h"
#include "texture.h"
#include "particle.h"
#include "light.h"
#include "parse.h"
#include "vector.h"
#include "eval.h"
#include "builder.h"

/* Include files for the various shapes */
#include "bezier.h"
#include "blob.h"
#include "box.h"
#include "cone.h"
#include "csg.h"
#include "cylinder.h"
#include "disc.h"
#include "function.h"
#include "glyph.h"
#include "gridded.h"
#include "height.h"
#include "hypertex.h"
#include "parabola.h"
#include "parametr.h"
#include "poly.h"
#include "polynom.h"
#include "raw.h"
#include "revolve.h"
#include "sphere.h"
#include "superq.h"
#include "sweep.h"
#include "torus.h"
#include "tri.h"

#define ACTION(x) { if (check_condition()) { x } }
#define alloca malloc
#define yyerror error

struct def_tok_struct {
   int type;
   void *data;
   } temp_def;
static Contour *cl, *contours;
static int gcount;

typedef union  {
   Vec vec;
   VList *vecl;
   Flt flt;
   Flt *fltptr;
   Object *obj;
   NODE_PTR exper;
   LIST_PTR elist;
   char *name;
   void *data;
   csgnodeptr csgtree;
   Special_Surface *surf;
   Texture *text;
   texture_map_entries text_map;
   texture_fn_entries text_fn;
   map_entries cmap_entry;
   Transform *trns;
   ostackptr objlist;
   tstackptr textlist;
   Particle *part;
   Light *lgt;
} YYSTYPE;
#define ACCELERATION 257
#define ACOS 258
#define AMBIENT 259
#define AND_EXPER 260
#define ANGLE 261
#define ANTIALIAS 262
#define ANTIALIAS_THRESHOLD 263
#define APERTURE 264
#define ARRAY 265
#define ASSIGNMENT 266
#define ASIN 267
#define ASPECT 268
#define AT 269
#define ATAN 270
#define ATAN_TWO 271
#define AVOID 272
#define BACKGROUND 273
#define BEZIER 274
#define BIAS 275
#define BIRTH 276
#define BLINN 277
#define BLOB 278
#define BOUNDING_BOX 279
#define BOX 280
#define BRILLIANCE 281
#define BUMP_SCALE 282
#define CEIL 283
#define CHECKER 284
#define CHEIGHT_FIELD 285
#define CHEIGHT_FN 286
#define COLOR 287
#define COLOR_MAP 288
#define COLOR_WHEEL 289
#define CONCAT 290
#define CONCAVE 291
#define CONDITIONAL_EXPER 292
#define CONE 293
#define CONTOUR 294
#define COOK 295
#define COS 296
#define COSH 297
#define COUNT 298
#define CSG 299
#define CYLINDER 300
#define CYLINDRICAL_BUMPMAP 301
#define CYLINDRICAL_IMAGEMAP 302
#define CYLINDRICAL_INDEXED 303
#define DEATH 304
#define DEFINE 305
#define DEGREES 306
#define DEPTH 307
#define DEPTHMAPPED_LIGHT 308
#define DIFFUSE 309
#define DIRECTIONAL_LIGHT 310
#define DISC 311
#define DISPLACE 312
#define DITHER 313
#define DIV_EXPER 314
#define DNOISE 315
#define DOT_EXPER 316
#define DRAW 317
#define ELSE 318
#define END_FRAME 319
#define ENVIRONMENT 320
#define ENVIRONMENT_MAP 321
#define EQUAL_EXPER 322
#define EXP 323
#define EXPRESSION_SYM 324
#define FABS 325
#define FBM 326
#define FERRARI 327
#define FILE_FLUSH 328
#define FLARE 329
#define FLOCK 330
#define FLOOR 331
#define FNOISE 332
#define FOCAL_DISTANCE 333
#define FMOD 334
#define FRAME 335
#define FRAME_TIME 336
#define FREQUENCY 337
#define FROM 338
#define FUNCTION 339
#define GAIN 340
#define GAUSSIAN 341
#define GLYPH 342
#define GREATER_EXPER 343
#define GRIDDED 344
#define GTEQ_EXPER 345
#define HAZE 346
#define HEIGHT_FIELD 347
#define HEIGHT_FN 348
#define HEIGHT_MAP 349
#define HEXAGON 350
#define HITHER 351
#define HYPERTEXTURE 352
#define I_EXPER 353
#define IF 354
#define IMAGE 355
#define IMAGE_FORMAT 356
#define IMAGE_WINDOW 357
#define INCLUDE 358
#define INDEXED 359
#define INDEXED_MAP 360
#define LATHE 361
#define LAYERED 362
#define LEGENDRE 363
#define LENSES 364
#define LESS_EXPER 365
#define LIGHT 366
#define LN 367
#define LOG 368
#define LOOKUP_FUNCTION 369
#define LTEQ_EXPER 370
#define MAXT 371
#define MAX_SAMPLES 372
#define MAX_TRACE_DEPTH 373
#define MICROFACET 374
#define MINT 375
#define MINUS_EXPER 376
#define N_EXPER 377
#define NO_SHADOW 378
#define NOEVAL 379
#define NOISE 380
#define NORMAL 381
#define NOT_EXPER 382
#define NUM 383
#define NURB 384
#define OBJECT 385
#define OBJECT_SYM 386
#define OCTAVES 387
#define OR_EXPER 388
#define OPACITY 389
#define OUTFILE 390
#define P_EXPER 391
#define PARABOLA 392
#define PARAMETRIC 393
#define PARTICLE 394
#define PARTICLE_SYM 395
#define PATCH 396
#define PHASE 397
#define PHONG 398
#define PIXEL_ENCODING 399
#define PIXELSIZE 400
#define PLANAR_BUMPMAP 401
#define PLANAR_IMAGEMAP 402
#define PLANE 403
#define PLUS_EXPER 404
#define POINT 405
#define POLYGON 406
#define POLYNOMIAL 407
#define POSITION 408
#define POSITION_FUNCTION 409
#define POSITION_SCALE 410
#define POWER_EXPER 411
#define RADIANS 412
#define RAMP 413
#define RANDOM 414
#define RAW 415
#define REFLECT 416
#define REFLECTION 417
#define REITZ 418
#define RESOLUTION 419
#define RIPPLE 420
#define ROOT_SOLVER 421
#define ROTATE 422
#define SAWTOOTH 423
#define SCALE 424
#define SEED 425
#define SHADING_FLAGS 426
#define SHEAR 427
#define SIN 428
#define SINH 429
#define SIZE 430
#define SMOOTH_HEIGHT_FIELD 431
#define SMOOTH_HEIGHT_FN 432
#define SMOOTH_CHEIGHT_FIELD 433
#define SMOOTH_CHEIGHT_FN 434
#define SMOOTH_SHEIGHT_FIELD 435
#define SMOOTH_SHEIGHT_FN 436
#define SPACING 437
#define SPECIAL 438
#define SPECIAL_SURFACE_SYM 439
#define SHEIGHT_FIELD 440
#define SHEIGHT_FN 441
#define SPHERICAL_BUMPMAP 442
#define SPHERICAL_IMAGEMAP 443
#define SPHERICAL_INDEXED 444
#define SPLINE 445
#define SPOT_LIGHT 446
#define SQRT 447
#define SPECULAR 448
#define SPHERE 449
#define START_FRAME 450
#define STATIC 451
#define STRING 452
#define STURM 453
#define SUBSCRIPT_EXPER 454
#define SUMMED 455
#define SUPERQ 456
#define SURFACE 457
#define SURFACE_SYM 458
#define SYSTEM 459
#define SWEEP 460
#define TAN 461
#define TANH 462
#define TERM 463
#define TEXTURE 464
#define TEXTURE_MAP 465
#define TEXTURE_MAP_SYM 466
#define TEXTURE_SYM 467
#define TEXTURED_LIGHT 468
#define TIMES_EXPER 469
#define TOKEN 470
#define TORUS 471
#define TOTAL_FRAMES 472
#define TRACE 473
#define TRANSFORM 474
#define TRANSFORM_SYM 475
#define TRANSLATE 476
#define TRANSMISSION 477
#define TURBULENCE 478
#define UMINUS_EXPER 479
#define UP 480
#define U_EXPER 481
#define UU_EXPER 482
#define UV_EXPER 483
#define UW_EXPER 484
#define U_STEPS 485
#define V_STEPS 486
#define UV 487
#define UV_STEPS 488
#define UV_BOUNDS 489
#define VELOCITY 490
#define VIETA 491
#define VIEWPOINT 492
#define VISIBLE 493
#define VAL_EXPER 494
#define VEC_EXPER 495
#define VECTOR_EXPER 496
#define WAVE 497
#define W_EXPER 498
#define W_STEPS 499
#define X_EXPER 500
#define X_OFFSET 501
#define Y_EXPER 502
#define Y_OFFSET 503
#define YON 504
#define Z_EXPER 505
#define AND_SYM 506
#define OR_SYM 507
#define LTEQ_SYM 508
#define GTEQ_SYM 509
#define EQUAL_SYM 510
#define NEQUAL_SYM 511
#define UMINUS 512
#define yyclearin yychar = -1
#define yyerrok yyerrflag = 0
extern int yychar;
extern int yyerrflag;
#ifndef YYMAXDEPTH
#define YYMAXDEPTH 150
#endif
YYSTYPE yylval, yyval;
typedef int yytabelem;
#define YYERRCODE 256

yytabelem yyexca[] = {
-1, 1,
        0, -1,
        -2, 0,
-1, 846,
        44, 359,
        -2, 315,
-1, 856,
        44, 359,
        -2, 335,
-1, 919,
        44, 359,
        -2, 360,
        };
#define YYNPROD 430
#define YYLAST 2547
yytabelem yyact[]={

    80,   776,   758,   574,   209,   148,   530,   633,   153,     4,
   149,    18,    18,    48,   676,   208,     3,   438,   524,   519,
    49,   249,   392,   147,   374,    81,   199,   435,   507,   523,
   488,   355,   334,    87,    87,   107,    87,   333,   114,   193,
   108,   111,    13,   112,   109,   110,   199,   649,   484,   127,
   146,   113,   118,   119,   120,   121,   117,    98,   194,  1028,
   195,   525,    68,   526,   150,   439,  1027,    15,    15,   152,
   152,   561,   559,   107,   560,    97,   645,    75,   108,   111,
  1021,   112,   109,   110,   171,   561,  1025,    87,  1024,   105,
    87,   469,   106,    87,   205,  1012,   194,   562,   195,   360,
   118,   561,   559,   982,   560,  1011,   185,   186,   187,   188,
   189,   190,   191,   192,   361,   527,   113,   171,   356,  1009,
   162,  1008,   170,   563,   211,   212,   118,   105,   156,   417,
   106,   157,   636,   163,    87,   870,    87,   563,   869,    74,
   363,   165,  1006,   204,   151,    87,   357,   521,    77,   384,
   520,   440,   205,   563,   202,   203,   183,   105,   378,  1005,
   106,   377,   360,  1004,   152,   152,   152,   152,   353,  1003,
   248,   205,   362,    87,   486,    87,   214,   361,    87,   159,
   158,   356,   213,  1002,   107,   210,    38,    39,   335,   108,
   111,   852,   112,   109,   110,   366,   367,   368,   369,   370,
   371,   171,   171,   363,   154,   155,   375,   376,   210,   357,
   999,    71,   485,   379,   241,   242,   243,   244,   850,    73,
    72,   984,   981,   246,   313,   979,   977,   364,    76,   976,
   245,   975,   974,   972,   970,   362,   969,   968,   105,   372,
   373,   106,   967,   966,   965,   344,   152,   152,   963,   959,
   358,   107,    87,   953,    87,   952,   108,    87,   210,   943,
   109,   110,   931,   929,   928,   418,   335,   927,   925,   924,
   823,   207,   419,   420,   923,   916,   107,   915,   346,   343,
   598,   108,   111,   599,   112,   109,   110,   914,   913,   910,
   364,   421,   905,   904,   903,   901,   396,   397,   429,   899,
    87,    87,    87,   436,   898,   105,    87,   443,   106,   436,
   436,   422,   448,   358,   897,   896,    87,   452,   638,   454,
   641,   436,   436,   639,   436,   895,   436,   336,    87,   436,
   105,   892,   359,   106,   882,   876,   445,   446,    87,   335,
    87,    87,   423,   867,   525,    87,   526,   478,   456,   457,
   851,   459,   844,   461,   834,   424,   464,   489,   490,   491,
   492,   493,   494,   495,   496,   497,   470,   833,   831,   441,
   160,   161,   640,   525,   821,   526,   819,   815,   501,   814,
   813,   795,   426,   503,   504,   791,   487,   352,   337,   790,
   340,   789,   342,   338,   788,   359,   787,   786,   527,   410,
   785,   784,    87,   783,   782,   336,   535,    87,    18,   532,
    38,    39,    87,   511,    87,    87,   781,   508,   780,   775,
   774,    87,   546,   436,    87,   528,    87,   527,    87,   638,
   156,   641,   824,   157,   639,   335,   829,   773,   772,   107,
   160,   161,   339,   825,   108,   111,  1026,   112,   109,   110,
   547,   348,   349,   677,   347,   351,    87,   564,   565,   768,
   563,   767,   470,   766,    15,   350,   765,   764,   562,   200,
   201,   673,   561,   559,   711,   560,   756,   750,   336,   745,
   738,   160,   161,   640,   425,   736,   200,   201,   735,   200,
   201,   734,   707,   105,   686,   393,   106,   685,   660,   593,
   659,   594,   658,   657,   441,   441,   196,   197,   198,   656,
   654,   650,   652,   643,   623,   759,   600,   592,   631,   634,
   627,   628,   630,   591,   563,   590,    87,    87,    87,   589,
   624,    75,   588,   587,   586,    87,   625,   626,   585,    79,
    18,    82,   644,   642,   196,   197,   198,   644,   653,   584,
   583,   582,   581,    94,   580,    87,   579,    87,   578,   577,
   101,   102,   103,   104,   576,   573,   572,    87,   571,   570,
   827,    87,   569,    87,   336,   828,   404,   668,   669,   670,
   671,   672,   826,   568,   566,   558,   167,    87,   557,   556,
   555,    87,   554,    74,   830,   553,    15,   552,   534,   502,
   708,   514,    77,   428,   710,   427,   712,   713,   714,   715,
   716,   717,   723,   724,   725,   726,   727,   728,   729,   730,
   731,   732,   733,   401,   441,   441,   441,   441,   441,    50,
   398,   386,   385,   679,    53,   256,   253,   251,   105,    87,
   240,    87,    87,   238,   216,   217,   218,   219,   220,    52,
   222,   746,   224,   225,   226,   227,   228,   229,   230,   231,
   180,   233,    18,    48,   637,    71,   239,   515,   177,   174,
   172,   168,   237,    73,    72,   236,   517,   166,   125,   516,
    51,   235,    76,   234,   247,    87,    87,    87,   124,   778,
   769,   123,   122,   100,    99,   107,   258,   513,    96,   954,
   108,   111,   116,   112,   109,   110,    95,   792,    87,   115,
    84,    83,    78,    54,    53,   399,   747,    93,    15,   799,
   800,   801,   802,   803,    90,    67,   380,   796,   651,    52,
    29,    28,    27,    26,   948,   567,   675,   902,   405,   634,
   807,   808,   809,   771,   455,   812,   811,   684,   810,   105,
   941,   304,   106,   757,   818,   512,    18,   532,   662,   395,
    51,    87,    87,    87,    87,    87,   394,   390,   842,   637,
   389,   510,   518,   846,   154,   155,   509,   635,   388,   387,
   409,   601,   854,   856,   179,   858,   176,   860,   257,    87,
   416,   254,   538,    54,   403,   822,   753,   126,   871,   872,
   296,   379,   295,   294,   293,   873,   874,   875,   292,   291,
   290,   289,    15,   430,   431,   288,   287,    75,   880,   437,
   286,   879,   285,   444,   284,   884,   447,   283,   449,   408,
   450,   282,   281,   453,   280,   279,   893,   278,   458,   277,
   460,   276,   462,   275,   274,   465,   466,   467,   468,   273,
   272,    87,    87,   271,   472,   907,   270,   407,   475,   476,
   269,   268,   267,   479,   480,   481,   482,   483,   919,   266,
   920,   265,    70,   411,   264,   414,    58,    55,   412,    74,
   263,   262,   922,   261,   107,   260,   345,   341,    77,   108,
   111,  1007,   112,   109,   110,   182,   259,    87,   181,    87,
   406,   505,   506,    87,   939,   184,   354,    17,    60,   522,
    16,    14,    12,    66,   529,    87,    11,    10,     9,     8,
     7,     6,   955,   537,    59,   160,   161,   413,   540,     5,
   957,     2,    87,     1,   543,   544,   629,   985,   105,   632,
   549,   106,    87,   971,   391,   678,     0,     0,     0,    87,
   978,    71,     0,     0,    87,     0,    58,    55,     0,    73,
    72,     0,     0,    69,    87,     0,     0,     0,    76,    56,
     0,     0,    64,   993,    38,    39,     0,     0,     0,     0,
     0,     0,     0,    42,    43,     0,   107,     0,    60,     0,
   794,   108,   111,    66,   112,   109,   110,     0,     0,     0,
     0,     0,     0,    87,    59,     0,     0,     0,  1018,     0,
     0,    57,     0,     0,     0,    75,     0,     0,   596,     0,
     0,     0,     0,     0,     0,     0,  1030,  1031,  1032,     0,
    50,     0,     0,     0,     0,    53,     0,     0,     0,    61,
   105,    65,   344,   106,     0,     0,   154,   155,   622,    56,
    52,     0,    64,   156,   159,   158,   157,     0,     0,    63,
     0,    62,     0,   160,   161,     0,     0,     0,   661,     0,
     0,   664,     0,   666,   667,   346,   343,    74,     0,     0,
     0,    51,     0,     0,     0,   680,    77,   682,     0,     0,
     0,    57,   687,   688,   689,   690,   691,   692,   693,   694,
   695,   696,     0,   698,   699,   700,     0,   702,   703,     0,
     0,     0,     0,     0,    54,     0,   709,   107,     0,    61,
     0,    65,   108,   111,   706,   112,   109,   110,     0,   128,
   129,   130,   131,     0,     0,     0,   132,   133,   107,    63,
     0,    62,   705,   108,   111,   500,   112,   109,   110,    71,
     0,     0,     0,     0,     0,   741,     0,    73,    72,   744,
     0,   164,     0,   499,     0,     0,    76,     0,     0,     0,
   749,   105,   751,   752,   106,   754,   755,     0,     0,     0,
     0,     0,   605,     0,   352,   337,     0,   340,     0,   342,
   338,     0,   105,   770,     0,   106,     0,     0,     0,     0,
     0,   134,     0,     0,   606,   607,   135,     0,     0,     0,
   603,   604,     0,     0,     0,     0,     0,     0,     0,   136,
     0,     0,     0,     0,   137,   138,     0,   156,     0,     0,
   157,     0,   608,     0,     0,     0,     0,   160,   161,   339,
   139,   140,     0,     0,     0,     0,     0,     0,   348,   349,
     0,   347,   351,     0,     0,     0,     0,     0,     0,     0,
   609,   816,   350,     0,     0,   107,   820,   141,   142,   704,
   108,   111,   832,   112,   109,   110,     0,    58,    55,     0,
     0,   840,   841,     0,   843,     0,     0,   143,   845,   847,
   848,   849,   610,     0,     0,     0,   853,   611,   855,   857,
     0,   859,     0,   861,   612,   863,   864,   865,    50,    60,
   614,   868,     0,    53,    66,     0,     0,     0,     0,   105,
   615,     0,   106,     0,     0,    59,     0,     0,    52,   877,
   878,   613,   616,   617,    50,   881,     0,   883,     0,    53,
   618,   885,   886,   887,   888,   889,   890,   891,   144,     0,
   894,     0,     0,     0,    52,     0,     0,     0,     0,    51,
   777,     0,     0,     0,     0,     0,     0,     0,   908,     0,
    56,   619,   145,    64,     0,     0,     0,     0,     0,     0,
     0,   107,     0,   918,     0,    51,   108,   111,   921,   112,
   109,   110,    54,    85,    88,     0,    91,   107,   926,     0,
   620,   621,   108,   111,   912,   112,   109,   110,   930,     0,
     0,   932,    57,   934,     0,   936,   937,   938,    54,   940,
     0,   942,     0,     0,     0,   944,   945,   946,   947,     0,
     0,   950,   951,     0,     0,   105,     0,     0,   106,   956,
    61,   958,    65,   960,   961,   962,     0,   173,     0,     0,
   175,   105,     0,   178,   106,     0,     0,     0,     0,   973,
    63,     0,    62,     0,     0,     0,     0,     0,     0,     0,
     0,     0,     0,     0,     0,   983,     0,     0,     0,     0,
     0,   987,   988,   989,   990,   991,   992,     0,     0,     0,
   994,   995,   996,   997,   221,   998,   223,  1000,     0,     0,
  1001,     0,     0,     0,   107,   232,     0,     0,     0,   108,
   111,    50,   112,   109,   110,  1010,    53,     0,     0,  1014,
  1015,  1016,  1017,     0,  1019,  1020,     0,  1022,  1023,   866,
     0,    52,     0,   250,     0,   252,     0,     0,   255,     0,
  1029,     0,   107,     0,  1033,     0,   381,   108,   111,   382,
   112,   109,   110,     0,     0,    58,    55,     0,   105,     0,
    50,   106,    51,     0,     0,    53,     0,     0,   761,     0,
     0,   719,     0,    50,     0,     0,     0,     0,    53,     0,
    52,    58,    55,     0,     0,     0,     0,    60,     0,   722,
     0,     0,    66,    52,     0,    54,   105,     0,     0,   106,
     0,     0,     0,    59,     0,     0,     0,     0,     0,     0,
     0,    51,   400,    60,   402,     0,     0,   415,    66,     0,
     0,     0,     0,     0,    51,     0,     0,     0,     0,    59,
     0,     0,   107,     0,     0,   720,     0,   108,   111,   911,
   112,   109,   110,     0,    54,     0,     0,     0,    56,     0,
     0,    64,     0,     0,     0,     0,     0,    54,     0,     0,
   432,   433,   434,     0,     0,     0,   442,     0,     0,     0,
     0,   762,     0,   107,    56,     0,   451,    64,   108,   111,
   909,   112,   109,   110,     0,     0,   105,     0,   463,   106,
    57,     0,   718,     0,     0,     0,     0,     0,   471,     0,
   473,   474,     0,     0,     0,   477,     0,     0,     0,     0,
     0,     0,   721,     0,     0,     0,    57,   760,    61,     0,
    65,     0,     0,     0,     0,     0,   107,   105,     0,     0,
   106,   108,   111,   900,   112,   109,   110,     0,    63,   763,
    62,     0,   107,     0,    61,     0,    65,   108,   111,   817,
   112,   109,   110,     0,     0,     0,     0,     0,    58,    55,
     0,     0,   533,     0,    63,     0,    62,   536,     0,     0,
     0,     0,   539,     0,   541,   542,     0,     0,     0,     0,
   105,   545,     0,   106,   548,     0,   550,     0,   551,     0,
    60,     0,     0,     0,     0,    66,   105,     0,     0,   106,
     0,   215,     0,     0,   107,     0,    59,    58,    55,   108,
   111,   806,   112,   109,   110,     0,   575,   107,     0,     0,
    58,    55,   108,   111,   805,   112,   109,   110,   107,     0,
   531,     0,     0,   108,   111,   804,   112,   109,   110,    60,
     0,     0,     0,     0,    66,     0,     0,     0,     0,    92,
     0,    56,    60,     0,    64,    59,     0,    66,   105,     0,
     0,   106,     0,     0,     0,     0,     0,     0,    59,     0,
     0,   105,     0,     0,   106,   748,     0,     0,     0,     0,
     0,     0,   105,     0,     0,   106,   646,   647,   648,     0,
     0,     0,     0,    57,     0,   655,     0,     0,    89,   107,
    56,     0,     0,    64,   108,   111,   798,   112,   109,   110,
     0,    86,     0,    56,     0,   663,    64,   665,     0,     0,
     0,    61,     0,    65,     0,     0,     0,   674,     0,     0,
     0,   681,     0,   683,     0,     0,     0,   128,   129,   130,
   131,    63,    57,    62,   132,   133,     0,   697,     0,     0,
     0,   701,     0,   105,   107,    57,   106,     0,     0,   108,
   111,   797,   112,   109,   110,     0,     0,     0,   107,     0,
    61,     0,    65,   108,   111,   739,   112,   109,   110,     0,
    19,     0,     0,    61,     0,    65,     0,     0,   107,     0,
    63,     0,    62,   108,   111,   737,   112,   109,   110,   740,
     0,   742,   743,    63,     0,    62,     0,     0,   105,   134,
     0,   106,    21,     0,   135,    36,     0,    35,     0,     0,
     0,     0,   105,    19,    23,   106,    44,   136,     0,     0,
     0,   107,   137,   138,     0,    25,   108,   111,     0,   112,
   109,   110,   105,    47,     0,   106,   575,   779,   139,   140,
     0,   602,   498,    37,     0,    21,     0,     0,    36,     0,
    35,    30,     0,     0,     0,    31,     0,    23,   793,    44,
     0,     0,     0,    32,   107,   141,   142,     0,    25,   108,
   111,   383,   112,   109,   110,   105,    47,     0,   106,     0,
     0,     0,    38,    39,     0,   143,    37,    40,     0,     0,
     0,    42,    43,     0,    30,   107,     0,     0,    31,   597,
   108,   111,    24,   112,   109,   110,    32,     0,     0,     0,
     0,   835,   836,   837,   838,   839,     0,     0,   105,     0,
     0,   106,     0,   107,     0,    38,    39,   595,   108,   111,
    40,   112,   109,   110,    42,    43,     0,     0,     0,   862,
     0,     0,     0,    33,     0,    24,   144,    45,    22,   105,
     0,     0,   106,   107,     0,     0,    41,     0,   108,   111,
     0,   112,   109,   110,     0,    34,     0,     0,     0,    46,
   145,     0,     0,   107,     0,   605,     0,   105,   108,   111,
   106,   112,   109,   110,     0,     0,    33,     0,     0,    20,
    45,    22,     0,     0,     0,     0,     0,   606,   607,    41,
     0,   906,   575,   603,   604,     0,    19,   105,    34,   365,
   106,     0,    46,     0,   107,     0,     0,     0,   917,   108,
   111,   206,   112,   109,   110,   608,     0,   105,     0,     0,
   106,     0,    20,     0,     0,     0,     0,     0,    21,     0,
     0,    36,     0,    35,     0,     0,     0,   933,     0,   935,
    23,     0,    44,   609,     0,     0,     0,     0,     0,     0,
     0,    25,     0,     0,     0,   949,     0,     0,   105,    47,
     0,   106,     0,     0,     0,     0,     0,     0,     0,    37,
     0,     0,   964,     0,     0,   610,     0,    30,     0,     0,
   611,    31,     0,     0,     0,     0,     0,   612,     0,    32,
   107,     0,     0,   614,   980,   108,   111,   169,   112,   109,
   110,     0,     0,   615,   986,     0,     0,     0,    38,    39,
     0,     0,     0,    40,   613,   616,   617,    42,    43,     0,
     0,     0,     0,   618,     0,     0,     0,     0,    24,   297,
     0,     0,     0,   298,     0,   299,     0,     0,     0,     0,
   302,   303,     0,  1013,   105,     0,     0,   106,   300,     0,
     0,     0,     0,     0,   619,   301,     0,     0,     0,     0,
     0,     0,     0,    36,     0,    35,   305,     0,     0,    33,
     0,     0,     0,    45,    22,     0,     0,     0,     0,     0,
     0,     0,    41,   620,   621,     0,     0,     0,     0,     0,
     0,    34,     0,     0,   306,    46,     0,   307,     0,   308,
     0,     0,   309,   310,     0,     0,     0,   311,     0,     0,
     0,     0,     0,     0,     0,    20,   312,     0,     0,     0,
     0,    32,     0,     0,     0,     0,     0,     0,     0,     0,
     0,     0,     0,     0,     0,     0,     0,     0,     0,   314,
     0,     0,     0,     0,     0,     0,     0,   315,   316,     0,
     0,   319,     0,     0,     0,     0,     0,     0,     0,     0,
     0,   317,   318,     0,     0,     0,     0,     0,     0,     0,
   320,     0,     0,     0,     0,     0,     0,     0,     0,     0,
     0,     0,     0,     0,     0,     0,   323,   324,   321,   322,
   325,   326,     0,     0,     0,   328,   329,     0,     0,     0,
     0,    33,     0,     0,   327,     0,     0,     0,     0,     0,
     0,   330,     0,     0,     0,   331,     0,     0,     0,     0,
     0,     0,     0,    34,     0,     0,   332 };
yytabelem yypact[]={

 -1000, -1000,  1943,  1943, -1000, -1000, -1000, -1000, -1000, -1000,
 -1000, -1000, -1000, -1000, -1000, -1000, -1000, -1000, -1000,   990,
   602,   493,   407,   990,   990,   990, -1000, -1000, -1000, -1000,
   671,   258,  1533,  1520,   601,  1471,   594,   990,   583,   575,
  -395,   654,   570, -1000,   990,   990,   990,   990, -1000,  2146,
   669,   990,   990,   990,   990,   652,   651,   648, -1000, -1000,
 -1000, -1000, -1000,   638, -1000, -1000, -1000,   868,   589,   589,
   691, -1000, -1000, -1000, -1000, -1000, -1000, -1000,   207,   627,
  2146,  2273, -1000,   669, -1000,   626,   990,  2146,   625,   990,
 -1000,   624,   990, -1000,   616, -1000, -1000, -1000, -1000,   990,
 -1000, -1000, -1000, -1000, -1000,   990,   990,   990,   990,   990,
   990,   990,   990,    -2,   -37,   669,   669,    50,  2146,  2187,
   547,   147,   167,   990,   990,   990,  1676, -1000,   990,   990,
   990,   990,   990,   990,   990,   990,   990,   990,   990,   990,
   990,   990,   990,   990,   990,   990, -1000, -1000, -1000, -1000,
 -1000, -1000,  2146, -1000,   560,   558,   552,   549, -1000,   603,
   543,   517, -1000,   589,   589,   589,   589,  -247,   990,   990,
   -20,    36,   990,   593,   990,   592, -1000,   990,   591, -1000,
   990,  2075,   763,   127,  -158,  2126,   547,    66,    66,    66,
    66,   214,   214, -1000,   990,   990,   990,   990,   990,   990,
   669,   669,   -17, -1000, -1000,   990,   990, -1000,   117, -1000,
   990,  1505,  2037,   108, -1000, -1000, -1000, -1000, -1000, -1000,
 -1000, -1000, -1000, -1000, -1000, -1000,   588, -1000, -1000, -1000,
 -1000,   587, -1000, -1000, -1000, -1000, -1000, -1000,   404, -1000,
 -1000, -1000, -1000, -1000, -1000,   589,   589,   586,  2146, -1000,
 -1000,   990,   579,   990,   451, -1000,   990,     4,   561,   478,
   763, -1000, -1000, -1000, -1000, -1000, -1000, -1000, -1000, -1000,
 -1000, -1000, -1000, -1000, -1000, -1000, -1000, -1000, -1000, -1000,
 -1000, -1000, -1000, -1000, -1000, -1000, -1000, -1000, -1000, -1000,
 -1000, -1000, -1000, -1000, -1000, -1000, -1000,   990,   990,   990,
   990,   990,   990,   990,    25,   990,   990,   990,   990,   990,
   990,   990,   990, -1000,   990,   990,   990,   990,   990, -1000,
   990,   990,   990,   990,   990,   990,   990,   990,   990,   990,
   990,   990,   990,   -34, -1000, -1000, -1000,   990,   990,   990,
   990, -1000,   990,   990,   990, -1000,   990,   990,   990,   990,
   990,   990,  -279, -1000,   -95, -1000,   990,   990,   990,   990,
   990,   990,   990,   990,   990, -1000,  2146,  2146,  2146,  2146,
  2146,  1994, -1000, -1000, -1000,  2146,  1101,   990, -1000, -1000,
   555, -1000,   990,   990, -1000,   990,   990, -1000, -1000,   317,
 -1000,   106, -1000,   990,  -361,  -361, -1000, -1000,   990,  1707,
 -1000,   990,   554, -1000, -1000,   990,   990,   990, -1000, -1000,
 -1000,   990,   990,   990,   990, -1000, -1000, -1000,   990,   990,
   990,   990,   990,   990,   990,   990, -1000,   990, -1000,   763,
   553,   537,   548,   546,   545,   544,  2146,   541,    59,    25,
    25, -1000,   540,  2146, -1000,   539, -1000,   528,  2146,   525,
   524,   522,  2146,   521,  2146,   990,   520,   515,   514, -1000,
   512,   510,   508,   507,   506,   505,   494,   490,   489, -1000,
 -1000,   488,   485, -1000, -1000, -1000, -1000,   481,  2146,   479,
 -1000, -1000, -1000,   473, -1000, -1000, -1000, -1000, -1000,  2146,
  2146,  2146,  2146,  2146,  2146,  2146,  2146,  2146,   990, -1000,
   990,  2096,   990,  2068,   239,   472, -1000,  1926,   923,   389,
 -1000, -1000,  -253,  -253,  -336,  -336,  -336,   990,   990,     7,
   404, -1000,   469,   -49, -1000,   990,   990,   990,   -78,   467,
   194,  1943, -1000,   466,   990,  2146,   465,   459,   379,   456,
   454, -1000, -1000, -1000, -1000, -1000,  2146, -1000, -1000, -1000,
 -1000, -1000,   990, -1000,   990,   990,   990,   990,   990,    25,
    25,    25,    25,    25,   430, -1000,   990,   159,  -199,   990,
   990,   990,   990, -1000,   453,   450,   990,   990,   990,   990,
   990,   990,   990,   990,   990,   990,   990,   990,   990,   990,
   990,   990,   990,  1228,  1080, -1000,   448, -1000, -1000,   990,
   990, -1000, -1000,   990,   434,   990,   990,   990,   990,   990,
   990,  1294,   990,   990,   990,   990,   990,   990,   990,   990,
   990,   990, -1000, -1000,  -104, -1000, -1000,   447,   444,   441,
 -1000,  1951,   436, -1000,  1931, -1000, -1000, -1000,   990,   990,
   990,   990, -1000,   990, -1000, -1000,   435, -1000, -1000, -1000,
   990, -1000, -1000,  1750,   990,   433,   990,   990, -1000,   990,
   990,   432,  1268, -1000,   423,   422,   419,   417,    43,    43,
   366,    29, -1000, -1000,   415,   159, -1000,   990,  -199, -1000,
   394,   393,   376,   375,   990,   990,   990, -1000,   374,   372,
   360,   359,   357, -1000,   356,   353, -1000,   352,   350, -1000,
   347, -1000,   345,   341, -1000, -1000,   990,   990,   949,   337,
  2146,   167,  1917,  2146,  2146,  1862,  2146,  2146,   990,   990,
   990,   990,   990,  2146,  2146,  2146,  2146,  2146,  2146,  2146,
  1791,  1780,  1767,  2146,  -336,  -336,  -336,  -286,   990,  -336,
   336,   335, -1000, -1000,   333,   990,  1705,  1707, -1000,   332,
   990, -1000,   330,   145, -1000,   324,   990,   323, -1000,   310,
   990,   990,   990,   990,   990,   990,   990,   990,   990, -1000,
   308, -1000,   990,   990,   990,   990,   174, -1000,   306,  -296,
   990,   990,   990,   990,   990,   990,   990,   990,   990,   990,
   990,   990,  1467,   299, -1000,   990,    94,   990,   990,  2146,
  2146,  2146,  2146,  2146,   990,   990,   990, -1000,   291, -1000,
 -1000, -1000, -1000,   990,   990,  -336, -1000,   990, -1000,   990,
   290,   990, -1000, -1000,   990,   990,   990,   990,   990,   990,
   990,   990,   287,  1268,   990,   281,   271,   270,   260,   255,
 -1000, -1000,  1689,   251, -1000,   250,  2146,   249,   248, -1000,
   990,   990,   990, -1000,  1636,   245,  2146, -1000,  1595, -1000,
  1360,   244,   243,   233, -1000,   231, -1000,   990, -1000,   990,
 -1000,  2146,  2146,  2146,  2146,  1344,  -336, -1000,   230,   225,
  2146,   224,   990,   223,  2146, -1000, -1000, -1000,   220, -1000,
 -1000,   219,   990, -1000,   218,   990,   990,   990,   990,   990,
   990,   990,   990,   990, -1000,   990, -1000, -1000,   215,   990,
   990,   990,   990, -1000,   990,   990,   990,   162,   209,  2146,
   658,   990, -1000,   990,  -336,   990,   205,   990,   990,   990,
   204,   990,   200,   199,   198,   193, -1000,   192, -1000,   174,
   190,   990,   189,   990,   188,   187,   185,   182,   990, -1000,
   181, -1000, -1000,   990, -1000,  2146,   178,    10, -1000,   990,
 -1000, -1000,   177,   990, -1000,   990,   990,   990,   990,   990,
   990,   174,   990, -1000,   990,   990,   990,   990,   174,   990,
   166,   990, -1000, -1000,   990,   139, -1000, -1000,   125,   119,
   115, -1000,    98,   847, -1000,    77, -1000, -1000,    75,   990,
    61,    51,   990,   990,   990,   990,   990,   990,   990,   990,
   -13,   990,   990, -1000, -1000, -1000,    44,    42,   402,    22,
 -1000, -1000,    15, -1000,   990,   990,   990,   990,   990, -1000,
  2146,  2146,  2146, -1000 };
yytabelem yypgo[]={

     0,    56,     0,    38,  1360,   515,    64,    42,   945,    62,
    27,    23,     5,    10,   944,     7,   939,   144,    17,   937,
     4,    15,   936,     8,   933,   931,    16,     9,   929,   921,
   920,   919,   918,   917,   916,   912,   911,   910,   907,    50,
   906,    31,   905,   898,   896,   895,    37,    32,   887,   886,
   885,   883,   881,   880,   874,   871,   869,   862,   861,   860,
   856,   853,   850,   849,   844,   843,   841,   839,   837,   835,
   834,   832,   831,   827,   824,   822,   820,   816,   815,   811,
   810,   809,   808,   804,   803,   802,   800,    49,   797,   796,
   795,   794,   792,   791,   790,   788,   786,   784,   781,    28,
   779,   778,    22,    19,   777,   776,   771,   770,   767,    18,
    29,   766,   759,   758,   753,     2,   751,   750,     1,   747,
     3,   744,    14,   737,   736,   735,   734,   733,   732,   731,
   730,     6,   728,   716,   715 };
yytabelem yyr1[]={

     0,    25,    24,    26,    26,    27,    27,    27,    27,    27,
    27,    27,    27,    27,    27,    27,    27,    27,    27,    35,
     9,     9,     9,     9,     9,     9,     9,    39,    39,    39,
    39,    39,    39,    39,    30,    30,    30,    30,    30,    30,
    30,    30,    40,    40,    41,    41,    41,    41,    41,    41,
    41,    41,    41,    42,    23,    23,    43,     6,     6,    45,
     6,    46,    46,    47,    47,    47,    47,    47,    47,    47,
    47,    47,    47,    47,    47,    47,    48,    48,    48,    48,
    48,    48,    49,    49,    49,    44,    44,    50,    50,    50,
    50,    50,    50,    50,    50,    50,    50,    50,    50,    50,
    50,    50,    50,    50,    50,    50,    50,    50,    50,    50,
    50,    50,    50,    50,    50,    50,    50,    50,    50,    50,
    50,    50,    50,    87,    87,    87,    87,    87,    87,    87,
    87,    87,    87,    87,    87,    87,    87,    87,    87,    87,
    87,    88,    88,    29,    89,    89,    90,    90,    90,    90,
    90,    90,    90,    91,    91,    91,    91,    92,    91,    91,
    91,    91,    91,    91,    91,    93,    93,    94,    94,    94,
    94,    94,    94,    94,    94,    94,    95,    95,    36,     7,
     7,     7,     7,     7,     7,     7,     7,    96,     7,     7,
     7,     7,     7,    97,     7,    31,    31,    28,    98,    98,
    98,    98,    98,    98,    98,    98,    98,    98,    98,    98,
    98,    98,    98,    98,    98,    98,    98,    98,    98,    98,
    98,    98,    98,    98,    98,    98,    98,    98,    99,    99,
   100,    11,    11,   101,    11,   102,    14,    14,    15,    16,
    16,    13,    13,   103,   103,   104,   104,   104,   104,   104,
   104,   105,   106,   106,   106,   106,   106,   106,   106,   106,
   107,    12,    12,   108,    12,    22,    22,   109,   109,   109,
   109,   110,   110,   111,    17,    17,   112,    17,    19,    19,
    51,   113,    52,   114,   114,   115,   115,   115,   115,   115,
    53,    54,   116,    58,    18,    18,    18,    18,    18,    18,
    18,    18,    55,    56,    56,    57,    57,    59,    59,    60,
    62,     8,     8,    63,    64,    64,    65,   117,    66,    67,
    68,    68,    69,    70,   119,    71,    72,   120,   120,   121,
    73,    74,    74,    77,    78,    78,    75,    75,    76,    76,
    79,    79,    80,    80,    81,    82,    82,    83,    83,    84,
   123,   122,   124,   124,   125,    61,   126,    85,    86,     5,
     4,    10,   118,   118,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     1,     1,     3,     3,
     3,     3,     3,     3,     3,     3,     3,    20,    20,    21,
    21,    33,    33,    33,    33,   127,   128,   129,   130,    37,
    37,    32,    38,   131,   131,   133,   132,   132,   134,    34 };
yytabelem yyr2[]={

     0,     1,     4,     4,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     3,     2,     3,     2,     2,     3,     5,
     3,     3,     3,     3,     3,     3,     3,     3,     3,     3,
     3,     3,     3,     3,     7,     9,     7,     9,     9,    11,
     9,    11,     2,     4,     5,     5,     5,     5,     5,     5,
     5,     5,     5,     1,    11,     3,     1,    11,     3,     1,
    11,     2,     4,     3,     3,     5,     9,    25,     5,     5,
     2,     5,     5,     9,     2,     5,     9,    13,     5,     5,
     5,    17,     5,     5,     5,     2,     4,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     5,     5,     5,     5,     5,     5,     5,
     5,     5,     5,    17,     5,     5,     5,     5,     9,     5,
     5,     2,     4,     8,     4,     0,     5,     5,     5,     5,
     9,     5,     5,     5,     9,    17,     3,     1,    10,     3,
     5,     9,    25,     5,     5,     4,     0,     5,     5,     5,
     5,     5,     5,     5,     5,     3,     4,     0,    13,     9,
     5,    11,     7,     9,    25,    11,    27,     1,    11,     5,
     9,     7,    11,     1,    11,    21,     9,     5,     5,    13,
     9,     9,     5,     5,     5,     9,     5,     5,     5,     7,
     7,     7,     7,     7,     5,     5,     5,     5,     5,     5,
     5,     9,     5,     9,     5,    13,     9,     5,     4,     0,
     1,    11,     3,     1,    11,    19,     3,     7,     7,     3,
     7,     3,     9,     4,     0,     3,     5,     9,    25,     5,
     5,     4,     3,     5,     5,     9,    13,     5,     9,     5,
     1,    11,     3,     1,    11,     3,     7,     5,     9,     5,
     5,     2,     4,     1,    11,     3,     1,    11,     7,     3,
    21,     1,    11,     2,     6,    11,    13,    17,    17,    21,
     9,    17,     1,     5,     7,     7,     7,     7,     5,     7,
     7,     3,    13,     5,    13,    13,    21,    13,    17,     5,
     9,     3,     5,     5,    29,    13,     5,     1,    19,     3,
    29,    21,    13,     5,     1,    11,     5,     7,    15,     1,
    15,     5,     9,     5,    29,    13,     5,    13,    13,    21,
     5,    13,    13,    21,     9,     5,    13,    13,    21,     9,
     1,    11,     2,     4,     1,     9,     1,    19,    17,     3,
     3,     3,     3,     7,     7,     7,    11,    15,    19,     9,
    15,     7,     7,     7,     7,     7,     7,     7,     5,     7,
    13,     9,     9,    13,    13,    17,     3,     3,     3,     3,
     3,     9,     3,     3,     3,     3,     3,     7,     7,     7,
     7,     7,     7,     7,     7,     7,     5,    19,    27,     3,
     5,     2,     2,     2,     2,     5,     5,     5,     5,     5,
     5,     5,     9,     6,     2,     1,     6,     0,     1,    15 };
yytabelem yychk[]={

 -1000,   -24,   -25,   -26,   -27,   -28,   -29,   -30,   -31,   -32,
   -33,   -34,   -35,    -7,   -36,    -6,   -37,   -38,   -23,   273,
   492,   305,   451,   317,   405,   328,  -127,  -128,  -129,  -130,
   354,   358,   366,   446,   468,   310,   308,   346,   385,   386,
   390,   459,   394,   395,   319,   450,   472,   336,   -27,    -2,
    40,    91,    60,    45,   124,   288,   380,   422,   287,   335,
   319,   450,   472,   470,   383,   452,   324,   123,    -9,   470,
   379,   458,   467,   466,   386,   324,   475,   395,   305,    -5,
    -2,    -2,    -5,    40,   452,    -4,   378,    -2,    -4,   378,
   123,    -4,   378,   123,    -5,   123,   123,   470,   452,    40,
   123,    -5,    -5,    -5,    -5,    91,    94,    37,    42,    46,
    47,    43,    45,    -2,    -3,    40,    33,    -1,    -2,    -2,
    -2,    -2,    40,    40,    40,    40,   -88,   -87,   261,   262,
   263,   264,   268,   269,   333,   338,   351,   356,   357,   372,
   373,   399,   400,   419,   480,   504,   -39,   -11,   -12,   -13,
    -6,   -17,    -2,   -23,   457,   458,   464,   467,   466,   465,
   474,   475,   -39,    -9,   470,    -9,   470,   379,    44,    44,
    -3,    -2,    44,    -4,    44,    -4,   -96,    44,    -4,   -97,
    44,   -43,   -45,    -1,   -42,    -2,    -2,    -2,    -2,    -2,
    -2,    -2,    -2,    41,    60,    62,   508,   509,   510,    63,
   506,   507,    -3,    -3,    93,    44,    44,   124,   -21,   -20,
    91,    -2,    -2,    -1,   -87,   125,    -5,    -5,    -5,    -5,
    -5,    -4,    -5,    -4,    -5,    -5,    -5,    -5,    -5,    -5,
    -5,    -5,    -4,    -5,   123,   123,   123,   123,    40,   123,
   123,   -39,   -39,   -39,   -39,    -9,   470,    -5,    -2,    41,
    -4,    44,    -4,    44,   -93,    -4,    44,   -95,    -5,   -44,
   -50,   -51,   -52,   -53,   -54,   -55,   -56,   -57,   -58,   -59,
   -60,   -61,   -62,   -63,   -64,   -65,   -66,   -67,   -68,   -69,
   -70,   -71,   -72,   -73,   -74,   -75,   -76,   -77,   -78,   -79,
   -80,   -81,   -82,   -83,   -84,   -85,   -86,   274,   278,   280,
   293,   300,   285,   286,  -116,   311,   339,   342,   344,   347,
   348,   352,   361,    -7,   384,   392,   393,   406,   407,   396,
   415,   433,   434,   431,   432,   435,   436,   449,   440,   441,
   456,   460,   471,   -46,   -47,   -12,   -17,   422,   427,   476,
   424,   -48,   426,   313,   279,   -49,   312,   488,   485,   486,
   499,   489,   421,    41,   -40,   -41,   276,   304,   408,   490,
   257,   272,   330,   298,   385,    93,    -2,    -2,    -2,    -2,
    -2,    -2,    -3,    -3,    41,    -2,    -2,    44,    41,   -20,
    -5,    41,    44,    44,    41,    44,    44,  -100,  -101,  -107,
  -108,   -14,  -102,    91,  -111,  -112,   -39,   -39,    44,  -134,
    -4,    44,    -4,   -91,   125,   287,   449,   406,   378,   329,
   -17,   422,   427,   476,   424,    -4,   -94,   125,   261,   268,
   269,   287,   307,   338,   351,   480,   378,    44,   125,   -46,
    -5,    -5,    -4,    -4,    -4,   -10,    -2,    -5,   -18,    40,
   126,    -6,    -4,    -2,    -5,   -10,   -10,    -5,    -2,    -5,
    -5,    -4,    -2,    -5,    -2,  -121,   -10,   -10,    -5,   -10,
    -5,   -10,    -5,    -4,   -10,    -5,    -5,    -5,    -5,   125,
   -47,    -4,    -5,    -4,    -4,    -5,    -5,    -4,    -2,    -5,
    -5,    -5,    -5,    -5,   327,   491,   453,   -41,   125,    -2,
    -2,    -2,    -2,    -2,    -2,    -2,    -2,    -2,    58,    62,
    44,    -2,    44,    -2,    -2,    -5,    -5,   -99,   -99,  -105,
  -106,   -11,   438,   380,   284,   350,   362,   359,   455,  -103,
    44,    41,    -5,  -110,  -109,   422,   424,   476,  -110,    -5,
  -131,   123,   -27,    -4,    44,    -2,    -4,    -5,   -92,    -4,
    -5,    -4,    -4,    -5,    -5,    -4,    -2,   -10,    -4,    -5,
    -4,    -4,    44,    58,    44,    44,    44,    44,    44,    43,
    45,    42,    38,    94,   -18,   -18,    44,  -125,    44,    44,
    44,    44,    44,    44,  -120,    -4,    44,    44,    44,    44,
    44,    44,    44,    44,    44,    44,    44,    44,    44,    44,
    44,    44,    44,    -2,    -2,    41,    -5,    41,    41,    44,
    44,   -98,   125,   287,   288,   259,   281,   282,   309,   337,
   369,   374,   381,   408,   387,   397,   409,   410,   417,   448,
   477,   478,   125,   125,  -103,   -11,   -11,   -12,   -12,   -22,
   -12,    -2,   -16,   -15,    -2,  -104,   125,   -17,   422,   427,
   476,   424,  -102,    44,  -109,   125,    -4,    -4,    -4,   125,
    44,  -132,   318,   -26,    44,    -4,    44,    44,   123,    44,
    44,    -5,  -113,    -4,    -5,    -4,    -5,    -5,   -18,   -18,
   -18,   -18,   -18,    41,    -4,  -124,  -122,   294,    -8,    -6,
    -5,    -4,    -5,    -4,  -119,    44,    44,    -5,    -5,    -5,
    -5,    -5,    -5,    -5,    -5,    -5,    -5,    -4,    -5,    -5,
    -5,    -4,    -5,    -5,    41,    62,    44,    44,    -2,    -5,
    -2,    40,    -2,    -2,    -2,    -2,    -2,    -2,   398,   277,
   341,   418,   295,    -2,    -2,    -2,    -2,    -2,    -2,    -2,
    -2,    -2,    -2,    -2,    44,    44,    44,    44,    44,    44,
    -4,    -5,    -4,    -4,    -5,    44,    -2,  -133,   125,    -5,
    44,    -5,    -5,   -89,    -5,    -5,    44,  -114,  -115,    -5,
   449,   300,   403,   471,    44,    44,    44,    44,    44,  -122,
    -5,    -6,    44,    44,    44,    44,  -118,    -4,  -120,    -4,
    44,    44,    44,    44,    44,    44,    44,    44,    44,    44,
    44,    44,    -2,    -4,    41,    44,   -21,    44,    44,    -2,
    -2,    -2,    -2,    -2,    44,    44,    44,   -12,   -12,   -12,
   -13,   -15,   -12,    44,    44,    44,    -5,    44,  -131,    44,
    -5,    44,   -90,   125,   287,   298,   437,   425,   430,   291,
   449,    44,    -5,    44,    44,    -4,    -4,    -4,    -4,    -4,
    -5,    -5,    -2,    -5,    44,    -5,    -2,    -5,    -5,    -5,
    44,    44,   487,    -5,    -2,    -5,    -2,    -5,    -2,    -5,
    -2,    -5,    -4,    -5,    -5,    -5,    62,    44,    -5,    44,
    41,    -2,    -2,    -2,    -2,    -2,    44,    -5,    -5,   -12,
    -2,    -5,    44,    -5,    -2,    -5,    -5,    -5,    -5,    -5,
    -5,    -5,    44,  -115,    -5,    44,    44,    44,    44,    44,
    44,    44,  -123,    44,    44,    44,    -4,  -120,    -5,    44,
    44,    44,    44,    44,    44,    44,    44,    -4,    -5,    -2,
    -2,    44,   -12,    44,    44,    44,    -5,    44,    44,    44,
    -5,    44,    -5,    -4,    -5,    -4,    -5,    -5,    -5,  -118,
    -5,  -117,    -5,    44,    -5,    -5,    -5,    -5,  -126,    -4,
    -5,    -5,    93,    44,    41,    -2,    -5,   -12,    -5,    44,
    -5,    -5,    -5,    44,    -4,    44,    44,    44,    44,    44,
    44,  -118,    44,    -5,    44,    44,    44,    44,  -118,    44,
    -4,    44,    93,    -5,    44,   -19,    -4,    -5,    -5,    -5,
    -5,    -5,    -5,    -2,    -5,    -5,    -5,    -5,    -5,    44,
    -5,    -5,    44,    44,    44,    44,    44,    44,    44,    44,
    -5,    44,    44,    -4,    -5,    -5,    -5,    -5,    -2,    -5,
    -5,    93,    -5,    -5,    44,    44,    44,    44,    44,    -5,
    -2,    -2,    -2,    -5 };
yytabelem yydef[]={

     1,    -2,     0,     2,     4,     5,     6,     7,     8,     9,
    10,    11,    12,    13,    14,    15,    16,    17,    18,     0,
     0,     0,     0,     0,     0,     0,   411,   412,   413,   414,
     0,     0,     0,     0,     0,     0,     0,     0,     0,    58,
     0,     0,     0,    55,     0,     0,     0,     0,     3,   197,
     0,     0,     0,     0,     0,     0,     0,     0,   386,   387,
   388,   389,   390,   392,   393,   394,   395,     0,     0,     0,
     0,    20,    21,    22,    23,    24,    25,    26,     0,     0,
   359,     0,   421,     0,    19,   180,     0,   360,     0,     0,
   187,   189,     0,   193,     0,    56,    59,   419,   420,     0,
    53,   415,   416,   417,   418,     0,     0,     0,     0,     0,
     0,     0,     0,     0,     0,     0,     0,     0,   396,     0,
   378,     0,     0,     0,     0,     0,     0,   141,     0,     0,
     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,
     0,     0,     0,     0,     0,     0,    34,    27,    28,    29,
    30,    31,    32,    33,     0,   232,     0,   262,   241,     0,
     0,   275,    36,     0,     0,     0,     0,     0,     0,     0,
     0,     0,     0,   182,     0,     0,   166,     0,   191,   177,
     0,   292,     0,     0,     0,     0,   371,   372,   373,   374,
   375,   376,   377,   364,     0,     0,     0,     0,     0,     0,
     0,     0,     0,   406,   365,     0,     0,   379,     0,   409,
     0,     0,     0,     0,   142,   143,   123,   124,   125,   126,
   127,   128,   129,   130,   131,   132,     0,   134,   135,   136,
   137,     0,   139,   140,   230,   233,   260,   263,     0,   273,
   276,    38,    40,    35,    37,     0,     0,     0,   196,   428,
   179,     0,   183,     0,     0,   190,     0,     0,     0,     0,
    85,    87,    88,    89,    90,    91,    92,    93,    94,    95,
    96,    97,    98,    99,   100,   101,   102,   103,   104,   105,
   106,   107,   108,   109,   110,   111,   112,   113,   114,   115,
   116,   117,   118,   119,   120,   121,   122,     0,     0,     0,
     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,
     0,     0,     0,   319,     0,     0,     0,     0,     0,   329,
     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,
     0,     0,     0,     0,    61,    63,    64,     0,     0,     0,
     0,    70,     0,     0,     0,    74,     0,     0,     0,     0,
     0,     0,     0,   422,     0,    42,     0,     0,     0,     0,
     0,     0,     0,     0,     0,   369,   399,   400,   401,   402,
   403,     0,   404,   405,   398,   397,     0,     0,   381,   410,
     0,   382,     0,     0,   391,     0,     0,   229,   229,     0,
   244,     0,   236,     0,     0,     0,    39,    41,     0,     0,
   181,     0,   185,   165,   188,     0,     0,     0,   156,   157,
   159,     0,     0,     0,     0,   192,   176,   194,     0,     0,
     0,     0,     0,     0,     0,     0,   175,     0,    57,    86,
     0,     0,     0,     0,     0,   303,   361,     0,   293,     0,
     0,   301,     0,   309,   354,     0,   313,     0,   316,     0,
     0,     0,   323,     0,   326,     0,   331,   336,     0,   333,
     0,   340,     0,     0,   345,     0,     0,     0,     0,    60,
    62,    65,     0,    68,    69,    71,    72,     0,    75,     0,
    78,    79,    80,     0,    82,    83,    84,    43,    54,    44,
    45,    46,    47,    48,    49,    50,    51,    52,     0,   366,
     0,     0,     0,     0,     0,     0,   138,     0,     0,     0,
   244,   252,     0,     0,     0,     0,     0,     0,     0,     0,
     0,   242,     0,     0,   271,     0,     0,     0,     0,     0,
   427,     0,   424,     0,     0,   153,     0,     0,     0,   160,
     0,   163,   164,   167,   168,   169,   170,   171,   172,   173,
   174,   178,     0,   281,     0,     0,     0,     0,     0,     0,
     0,     0,     0,     0,     0,   298,     0,     0,     0,     0,
     0,     0,     0,   324,     0,     0,     0,     0,     0,     0,
     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,
     0,     0,     0,     0,     0,   380,     0,   383,   384,     0,
     0,   228,   231,     0,     0,     0,     0,     0,     0,     0,
     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,
     0,     0,   234,   261,   251,   253,   254,     0,     0,   257,
   265,     0,   259,   239,     0,   243,   264,   245,     0,     0,
     0,     0,   237,     0,   272,   274,   267,   269,   270,   277,
     0,   429,   425,     0,     0,     0,     0,     0,   145,     0,
     0,     0,     0,   290,     0,     0,     0,     0,   295,   296,
   297,   299,   300,   294,     0,   355,   352,     0,   310,   311,
     0,     0,     0,     0,     0,     0,     0,   332,     0,     0,
     0,     0,     0,   344,     0,     0,   349,     0,     0,    66,
     0,    73,    76,     0,   370,   367,     0,     0,     0,     0,
   198,     0,   202,   203,   204,   206,   207,   208,     0,     0,
     0,     0,     0,   214,   215,   216,   217,   218,   219,   220,
   222,   224,     0,   227,     0,     0,     0,     0,     0,     0,
   246,     0,   249,   250,     0,     0,     0,     0,   423,     0,
     0,   154,     0,     0,   161,     0,     0,   282,   283,     0,
     0,     0,     0,     0,     0,     0,     0,     0,     0,   353,
     0,   312,     0,     0,     0,     0,   325,   362,     0,   327,
     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,
     0,     0,     0,     0,   385,     0,     0,     0,     0,   209,
   210,   211,   212,   213,     0,     0,     0,   255,     0,   266,
   258,   240,   238,     0,     0,     0,   268,     0,   426,     0,
     0,     0,   144,   158,     0,     0,     0,     0,     0,     0,
     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,
   302,   304,   305,   307,   350,     0,    -2,     0,     0,   322,
     0,     0,     0,   337,   338,     0,    -2,   341,   342,   346,
   347,     0,     0,     0,    77,     0,   368,     0,   133,     0,
   200,   201,   205,   221,   223,   226,     0,   247,     0,     0,
   195,     0,     0,     0,   146,   147,   148,   149,     0,   151,
   152,     0,     0,   284,     0,     0,     0,     0,     0,     0,
     0,     0,     0,     0,   317,     0,   363,   330,     0,     0,
     0,     0,     0,   356,     0,     0,     0,     0,     0,    -2,
     0,     0,   256,     0,     0,     0,     0,     0,     0,     0,
     0,     0,     0,     0,     0,     0,   291,     0,   308,   351,
     0,     0,     0,     0,     0,     0,     0,     0,     0,   358,
     0,    81,   407,     0,   199,   225,     0,     0,   184,     0,
   155,   150,     0,     0,   285,     0,     0,     0,     0,     0,
     0,   318,     0,   328,     0,     0,     0,     0,   357,     0,
     0,     0,   235,   186,     0,   280,   279,   286,     0,     0,
     0,   306,     0,   321,   339,     0,   343,   348,     0,     0,
     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,
     0,     0,     0,   278,   287,   288,     0,     0,     0,     0,
    67,   408,     0,   162,     0,     0,     0,     0,     0,   289,
   314,   320,   334,   248 };
typedef struct {char *t_name; int t_val; } yytoktype;
#ifndef YYDEBUG
#define YYDEBUG 0       /* don't allow debugging */
#endif

#if YYDEBUG

yytoktype yytoks[] =
{
        "ACCELERATION", 257,
        "ACOS", 258,
        "AMBIENT",      259,
        "AND_EXPER",    260,
        "ANGLE",        261,
        "ANTIALIAS",    262,
        "ANTIALIAS_THRESHOLD",  263,
        "APERTURE",     264,
        "ARRAY",        265,
        "ASSIGNMENT",   266,
        "ASIN", 267,
        "ASPECT",       268,
        "AT",   269,
        "ATAN", 270,
        "ATAN_TWO",     271,
        "AVOID",        272,
        "BACKGROUND",   273,
        "BEZIER",       274,
        "BIAS", 275,
        "BIRTH",        276,
        "BLINN",        277,
        "BLOB", 278,
        "BOUNDING_BOX", 279,
        "BOX",  280,
        "BRILLIANCE",   281,
        "BUMP_SCALE",   282,
        "CEIL", 283,
        "CHECKER",      284,
        "CHEIGHT_FIELD",        285,
        "CHEIGHT_FN",   286,
        "COLOR",        287,
        "COLOR_MAP",    288,
        "COLOR_WHEEL",  289,
        "CONCAT",       290,
        "CONCAVE",      291,
        "CONDITIONAL_EXPER",    292,
        "CONE", 293,
        "CONTOUR",      294,
        "COOK", 295,
        "COS",  296,
        "COSH", 297,
        "COUNT",        298,
        "CSG",  299,
        "CYLINDER",     300,
        "CYLINDRICAL_BUMPMAP",  301,
        "CYLINDRICAL_IMAGEMAP", 302,
        "CYLINDRICAL_INDEXED",  303,
        "DEATH",        304,
        "DEFINE",       305,
        "DEGREES",      306,
        "DEPTH",        307,
        "DEPTHMAPPED_LIGHT",    308,
        "DIFFUSE",      309,
        "DIRECTIONAL_LIGHT",    310,
        "DISC", 311,
        "DISPLACE",     312,
        "DITHER",       313,
        "DIV_EXPER",    314,
        "DNOISE",       315,
        "DOT_EXPER",    316,
        "DRAW", 317,
        "ELSE", 318,
        "END_FRAME",    319,
        "ENVIRONMENT",  320,
        "ENVIRONMENT_MAP",      321,
        "EQUAL_EXPER",  322,
        "EXP",  323,
        "EXPRESSION_SYM",       324,
        "FABS", 325,
        "FBM",  326,
        "FERRARI",      327,
        "FILE_FLUSH",   328,
        "FLARE",        329,
        "FLOCK",        330,
        "FLOOR",        331,
        "FNOISE",       332,
        "FOCAL_DISTANCE",       333,
        "FMOD", 334,
        "FRAME",        335,
        "FRAME_TIME",   336,
        "FREQUENCY",    337,
        "FROM", 338,
        "FUNCTION",     339,
        "GAIN", 340,
        "GAUSSIAN",     341,
        "GLYPH",        342,
        "GREATER_EXPER",        343,
        "GRIDDED",      344,
        "GTEQ_EXPER",   345,
        "HAZE", 346,
        "HEIGHT_FIELD", 347,
        "HEIGHT_FN",    348,
        "HEIGHT_MAP",   349,
        "HEXAGON",      350,
        "HITHER",       351,
        "HYPERTEXTURE", 352,
        "I_EXPER",      353,
        "IF",   354,
        "IMAGE",        355,
        "IMAGE_FORMAT", 356,
        "IMAGE_WINDOW", 357,
        "INCLUDE",      358,
        "INDEXED",      359,
        "INDEXED_MAP",  360,
        "LATHE",        361,
        "LAYERED",      362,
        "LEGENDRE",     363,
        "LENSES",       364,
        "LESS_EXPER",   365,
        "LIGHT",        366,
        "LN",   367,
        "LOG",  368,
        "LOOKUP_FUNCTION",      369,
        "LTEQ_EXPER",   370,
        "MAXT", 371,
        "MAX_SAMPLES",  372,
        "MAX_TRACE_DEPTH",      373,
        "MICROFACET",   374,
        "MINT", 375,
        "MINUS_EXPER",  376,
        "N_EXPER",      377,
        "NO_SHADOW",    378,
        "NOEVAL",       379,
        "NOISE",        380,
        "NORMAL",       381,
        "NOT_EXPER",    382,
        "NUM",  383,
        "NURB", 384,
        "OBJECT",       385,
        "OBJECT_SYM",   386,
        "OCTAVES",      387,
        "OR_EXPER",     388,
        "OPACITY",      389,
        "OUTFILE",      390,
        "P_EXPER",      391,
        "PARABOLA",     392,
        "PARAMETRIC",   393,
        "PARTICLE",     394,
        "PARTICLE_SYM", 395,
        "PATCH",        396,
        "PHASE",        397,
        "PHONG",        398,
        "PIXEL_ENCODING",       399,
        "PIXELSIZE",    400,
        "PLANAR_BUMPMAP",       401,
        "PLANAR_IMAGEMAP",      402,
        "PLANE",        403,
        "PLUS_EXPER",   404,
        "POINT",        405,
        "POLYGON",      406,
        "POLYNOMIAL",   407,
        "POSITION",     408,
        "POSITION_FUNCTION",    409,
        "POSITION_SCALE",       410,
        "POWER_EXPER",  411,
        "RADIANS",      412,
        "RAMP", 413,
        "RANDOM",       414,
        "RAW",  415,
        "REFLECT",      416,
        "REFLECTION",   417,
        "REITZ",        418,
        "RESOLUTION",   419,
        "RIPPLE",       420,
        "ROOT_SOLVER",  421,
        "ROTATE",       422,
        "SAWTOOTH",     423,
        "SCALE",        424,
        "SEED", 425,
        "SHADING_FLAGS",        426,
        "SHEAR",        427,
        "SIN",  428,
        "SINH", 429,
        "SIZE", 430,
        "SMOOTH_HEIGHT_FIELD",  431,
        "SMOOTH_HEIGHT_FN",     432,
        "SMOOTH_CHEIGHT_FIELD", 433,
        "SMOOTH_CHEIGHT_FN",    434,
        "SMOOTH_SHEIGHT_FIELD", 435,
        "SMOOTH_SHEIGHT_FN",    436,
        "SPACING",      437,
        "SPECIAL",      438,
        "SPECIAL_SURFACE_SYM",  439,
        "SHEIGHT_FIELD",        440,
        "SHEIGHT_FN",   441,
        "SPHERICAL_BUMPMAP",    442,
        "SPHERICAL_IMAGEMAP",   443,
        "SPHERICAL_INDEXED",    444,
        "SPLINE",       445,
        "SPOT_LIGHT",   446,
        "SQRT", 447,
        "SPECULAR",     448,
        "SPHERE",       449,
        "START_FRAME",  450,
        "STATIC",       451,
        "STRING",       452,
        "STURM",        453,
        "SUBSCRIPT_EXPER",      454,
        "SUMMED",       455,
        "SUPERQ",       456,
        "SURFACE",      457,
        "SURFACE_SYM",  458,
        "SYSTEM",       459,
        "SWEEP",        460,
        "TAN",  461,
        "TANH", 462,
        "TERM", 463,
        "TEXTURE",      464,
        "TEXTURE_MAP",  465,
        "TEXTURE_MAP_SYM",      466,
        "TEXTURE_SYM",  467,
        "TEXTURED_LIGHT",       468,
        "TIMES_EXPER",  469,
        "TOKEN",        470,
        "TORUS",        471,
        "TOTAL_FRAMES", 472,
        "TRACE",        473,
        "TRANSFORM",    474,
        "TRANSFORM_SYM",        475,
        "TRANSLATE",    476,
        "TRANSMISSION", 477,
        "TURBULENCE",   478,
        "UMINUS_EXPER", 479,
        "UP",   480,
        "U_EXPER",      481,
        "UU_EXPER",     482,
        "UV_EXPER",     483,
        "UW_EXPER",     484,
        "U_STEPS",      485,
        "V_STEPS",      486,
        "UV",   487,
        "UV_STEPS",     488,
        "UV_BOUNDS",    489,
        "VELOCITY",     490,
        "VIETA",        491,
        "VIEWPOINT",    492,
        "VISIBLE",      493,
        "VAL_EXPER",    494,
        "VEC_EXPER",    495,
        "VECTOR_EXPER", 496,
        "WAVE", 497,
        "W_EXPER",      498,
        "W_STEPS",      499,
        "X_EXPER",      500,
        "X_OFFSET",     501,
        "Y_EXPER",      502,
        "Y_OFFSET",     503,
        "YON",  504,
        "Z_EXPER",      505,
        "&",    38,
        "=",    61,
        "[",    91,
        "]",    93,
        "(",    40,
        ")",    41,
        "{",    123,
        "}",    125,
        "+",    43,
        "-",    45,
        "*",    42,
        ".",    46,
        "/",    47,
        ">",    62,
        "<",    60,
        "^",    94,
        "!",    33,
        "~",    126,
        "AND_SYM",      506,
        "OR_SYM",       507,
        "LTEQ_SYM",     508,
        "GTEQ_SYM",     509,
        "EQUAL_SYM",    510,
        "NEQUAL_SYM",   511,
        "%",    37,
        "UMINUS",       512,
        "-unknown-",    -1      /* ends search */
};

char *yyreds[] =
{
        "-no such reduction-",
   "scene : /* empty */",
   "scene : elementlist",
   "elementlist : elementlist element",
   "elementlist : element",
   "element : background",
   "element : camera",
   "element : definition",
   "element : draw_statement",
   "element : flush_statement",
   "element : frame_decl",
   "element : if_statement",
   "element : include_statement",
   "element : light",
   "element : haze_statement",
   "element : object",
   "element : outfile",
   "element : system_call",
   "element : particle",
   "include_statement : INCLUDE STRING",
   "defined_token : SURFACE_SYM",
   "defined_token : TEXTURE_SYM",
   "defined_token : TEXTURE_MAP_SYM",
   "defined_token : OBJECT_SYM",
   "defined_token : EXPRESSION_SYM",
   "defined_token : TRANSFORM_SYM",
   "defined_token : PARTICLE_SYM",
   "definition_types : surface",
   "definition_types : texture",
   "definition_types : texture_map",
   "definition_types : object",
   "definition_types : transform",
   "definition_types : expression",
   "definition_types : particle",
   "definition : DEFINE defined_token definition_types",
   "definition : STATIC DEFINE defined_token definition_types",
   "definition : DEFINE TOKEN definition_types",
   "definition : STATIC DEFINE TOKEN definition_types",
   "definition : DEFINE NOEVAL defined_token definition_types",
   "definition : STATIC DEFINE NOEVAL defined_token definition_types",
   "definition : DEFINE NOEVAL TOKEN definition_types",
   "definition : STATIC DEFINE NOEVAL TOKEN definition_types",
   "particle_decls : particle_decl",
   "particle_decls : particle_decls particle_decl",
   "particle_decl : BIRTH expression",
   "particle_decl : DEATH expression",
   "particle_decl : POSITION expression",
   "particle_decl : VELOCITY expression",
   "particle_decl : ACCELERATION expression",
   "particle_decl : AVOID expression",
   "particle_decl : FLOCK expression",
   "particle_decl : COUNT expression",
   "particle_decl : OBJECT expression",
   "particle : PARTICLE '{'",
   "particle : PARTICLE '{' particle_decls '}'",
   "particle : PARTICLE_SYM",
   "object : OBJECT '{'",
   "object : OBJECT '{' object_decls '}'",
   "object : OBJECT_SYM",
   "object : OBJECT_SYM '{'",
   "object : OBJECT_SYM '{' object_modifier_decls '}'",
   "object_modifier_decls : object_modifier_decl",
   "object_modifier_decls : object_modifier_decls object_modifier_decl",
   "object_modifier_decl : texture",
   "object_modifier_decl : transform",
   "object_modifier_decl : ROTATE point",
   "object_modifier_decl : ROTATE point ',' fexper",
   "object_modifier_decl : SHEAR fexper ',' fexper ',' fexper ',' fexper ',' fexper ',' fexper",
   "object_modifier_decl : TRANSLATE point",
   "object_modifier_decl : SCALE point",
   "object_modifier_decl : uv_information",
   "object_modifier_decl : SHADING_FLAGS fexper",
   "object_modifier_decl : DITHER fexper",
   "object_modifier_decl : BOUNDING_BOX point ',' point",
   "object_modifier_decl : root_solver",
   "object_modifier_decl : DISPLACE expression",
   "uv_information : UV_STEPS fexper ',' fexper",
   "uv_information : UV_STEPS fexper ',' fexper ',' fexper",
   "uv_information : U_STEPS fexper",
   "uv_information : V_STEPS fexper",
   "uv_information : W_STEPS fexper",
   "uv_information : UV_BOUNDS fexper ',' fexper ',' fexper ',' fexper",
   "root_solver : ROOT_SOLVER FERRARI",
   "root_solver : ROOT_SOLVER VIETA",
   "root_solver : ROOT_SOLVER STURM",
   "object_decls : shape_decl",
   "object_decls : shape_decl object_modifier_decls",
   "shape_decl : bezier",
   "shape_decl : blob",
   "shape_decl : box",
   "shape_decl : cone",
   "shape_decl : cylinder",
   "shape_decl : cylindrical_height_field",
   "shape_decl : cylindrical_height_fn",
   "shape_decl : csg",
   "shape_decl : disc",
   "shape_decl : function",
   "shape_decl : glyph",
   "shape_decl : gridded",
   "shape_decl : height_field",
   "shape_decl : height_fn",
   "shape_decl : hypertexture",
   "shape_decl : lathe",
   "shape_decl : light_object",
   "shape_decl : nurb",
   "shape_decl : parabola",
   "shape_decl : parametric",
   "shape_decl : polygon",
   "shape_decl : polynomial",
   "shape_decl : ppatch",
   "shape_decl : raw",
   "shape_decl : smooth_cheight_field",
   "shape_decl : smooth_cheight_fn",
   "shape_decl : smooth_height_field",
   "shape_decl : smooth_height_fn",
   "shape_decl : smooth_sheight_field",
   "shape_decl : smooth_sheight_fn",
   "shape_decl : sphere",
   "shape_decl : spherical_height_field",
   "shape_decl : spherical_height_fn",
   "shape_decl : superq",
   "shape_decl : sweep",
   "shape_decl : torus",
   "camera_exper : ANGLE fexper",
   "camera_exper : ANTIALIAS fexper",
   "camera_exper : ANTIALIAS_THRESHOLD fexper",
   "camera_exper : APERTURE fexper",
   "camera_exper : ASPECT fexper",
   "camera_exper : AT point",
   "camera_exper : FOCAL_DISTANCE fexper",
   "camera_exper : FROM point",
   "camera_exper : HITHER fexper",
   "camera_exper : IMAGE_FORMAT fexper",
   "camera_exper : IMAGE_WINDOW fexper ',' fexper ',' fexper ',' fexper",
   "camera_exper : MAX_SAMPLES fexper",
   "camera_exper : MAX_TRACE_DEPTH fexper",
   "camera_exper : PIXEL_ENCODING fexper",
   "camera_exper : PIXELSIZE fexper",
   "camera_exper : RESOLUTION fexper ',' fexper",
   "camera_exper : UP point",
   "camera_exper : YON fexper",
   "camera_expers : camera_exper",
   "camera_expers : camera_expers camera_exper",
   "camera : VIEWPOINT '{' camera_expers '}'",
   "flare_options : flare_options flare_option",
   "flare_options : /* empty */",
   "flare_option : COLOR expression",
   "flare_option : COUNT fexper",
   "flare_option : SPACING fexper",
   "flare_option : SEED fexper",
   "flare_option : SIZE fexper ',' fexper",
   "flare_option : CONCAVE fexper",
   "flare_option : SPHERE fexper",
   "light_modifier_decl : COLOR expression",
   "light_modifier_decl : SPHERE point ',' fexper",
   "light_modifier_decl : POLYGON fexper ',' fexper ',' fexper ',' fexper",
   "light_modifier_decl : NO_SHADOW",
   "light_modifier_decl : FLARE",
   "light_modifier_decl : FLARE '{' flare_options '}'",
   "light_modifier_decl : transform",
   "light_modifier_decl : ROTATE point",
   "light_modifier_decl : ROTATE point ',' fexper",
   "light_modifier_decl : SHEAR fexper ',' fexper ',' fexper ',' fexper ',' fexper ',' fexper",
   "light_modifier_decl : TRANSLATE point",
   "light_modifier_decl : SCALE point",
   "light_modifier_decls : light_modifier_decls light_modifier_decl",
   "light_modifier_decls : /* empty */",
   "depth_light_modifier : ANGLE fexper",
   "depth_light_modifier : ASPECT fexper",
   "depth_light_modifier : AT point",
   "depth_light_modifier : COLOR expression",
   "depth_light_modifier : DEPTH sexper",
   "depth_light_modifier : FROM point",
   "depth_light_modifier : HITHER fexper",
   "depth_light_modifier : UP point",
   "depth_light_modifier : NO_SHADOW",
   "depth_light_modifiers : depth_light_modifiers depth_light_modifier",
   "depth_light_modifiers : /* empty */",
   "haze_statement : HAZE fexper ',' fexper ',' point",
   "light : LIGHT point ',' point",
   "light : LIGHT point",
   "light : LIGHT NO_SHADOW point ',' point",
   "light : LIGHT NO_SHADOW point",
   "light : SPOT_LIGHT point ',' point",
   "light : SPOT_LIGHT point ',' point ',' point ',' fexper ',' fexper ',' fexper",
   "light : SPOT_LIGHT NO_SHADOW point ',' point",
   "light : SPOT_LIGHT NO_SHADOW point ',' point ',' point ',' fexper ',' fexper ',' fexper",
   "light : TEXTURED_LIGHT '{'",
   "light : TEXTURED_LIGHT '{' light_modifier_decls '}'",
   "light : DIRECTIONAL_LIGHT point",
   "light : DIRECTIONAL_LIGHT point ',' point",
   "light : DIRECTIONAL_LIGHT NO_SHADOW point",
   "light : DIRECTIONAL_LIGHT NO_SHADOW point ',' point",
   "light : DEPTHMAPPED_LIGHT '{'",
   "light : DEPTHMAPPED_LIGHT '{' depth_light_modifiers '}'",
   "draw_statement : DRAW fexper ',' fexper ',' fexper ',' expression ',' expression",
   "draw_statement : POINT expression ',' expression",
   "background : BACKGROUND expression",
   "surface_declaration : COLOR expression",
   "surface_declaration : COLOR_MAP '(' map_entries ',' expression ')'",
   "surface_declaration : COLOR_MAP '(' map_entries ')'",
   "surface_declaration : AMBIENT expression ',' expression",
   "surface_declaration : AMBIENT expression",
   "surface_declaration : BRILLIANCE expression",
   "surface_declaration : BUMP_SCALE expression",
   "surface_declaration : DIFFUSE expression ',' expression",
   "surface_declaration : DIFFUSE expression",
   "surface_declaration : FREQUENCY expression",
   "surface_declaration : LOOKUP_FUNCTION expression",
   "surface_declaration : MICROFACET PHONG expression",
   "surface_declaration : MICROFACET BLINN expression",
   "surface_declaration : MICROFACET GAUSSIAN expression",
   "surface_declaration : MICROFACET REITZ expression",
   "surface_declaration : MICROFACET COOK expression",
   "surface_declaration : MICROFACET expression",
   "surface_declaration : NORMAL expression",
   "surface_declaration : POSITION expression",
   "surface_declaration : OCTAVES expression",
   "surface_declaration : PHASE expression",
   "surface_declaration : POSITION_FUNCTION expression",
   "surface_declaration : POSITION_SCALE expression",
   "surface_declaration : REFLECTION expression ',' expression",
   "surface_declaration : REFLECTION expression",
   "surface_declaration : SPECULAR expression ',' expression",
   "surface_declaration : SPECULAR expression",
   "surface_declaration : TRANSMISSION expression ',' expression ',' expression",
   "surface_declaration : TRANSMISSION expression ',' expression",
   "surface_declaration : TURBULENCE expression",
   "surface_declarations : surface_declarations surface_declaration",
   "surface_declarations : /* empty */",
   "surface : SURFACE '{'",
   "surface : SURFACE '{' surface_declarations '}'",
   "surface : SURFACE_SYM",
   "surface : SURFACE_SYM '{'",
   "surface : SURFACE_SYM '{' surface_declarations '}'",
   "texture_map_element : '[' fexper ',' fexper ',' texture ',' texture ']'",
   "texture_map_elements : texture_map_element",
   "texture_map_elements : texture_map_elements ',' texture_map_element",
   "texture_fn_element : expression ',' texture",
   "texture_fn_elements : texture_fn_element",
   "texture_fn_elements : texture_fn_elements ',' texture_fn_element",
   "texture_map : TEXTURE_MAP_SYM",
   "texture_map : TEXTURE_MAP '(' texture_map_elements ')'",
   "texture_modifier_decls : texture_modifier_decls texture_modifier_decl",
   "texture_modifier_decls : /* empty */",
   "texture_modifier_decl : transform",
   "texture_modifier_decl : ROTATE point",
   "texture_modifier_decl : ROTATE point ',' fexper",
   "texture_modifier_decl : SHEAR fexper ',' fexper ',' fexper ',' fexper ',' fexper ',' fexper",
   "texture_modifier_decl : TRANSLATE point",
   "texture_modifier_decl : SCALE point",
   "texture_declarations : texture_declaration texture_modifier_decls",
   "texture_declaration : surface",
   "texture_declaration : SPECIAL surface",
   "texture_declaration : NOISE surface",
   "texture_declaration : CHECKER texture ',' texture",
   "texture_declaration : HEXAGON texture ',' texture ',' texture",
   "texture_declaration : LAYERED texture_list",
   "texture_declaration : INDEXED expression ',' texture_map",
   "texture_declaration : SUMMED texture_fn_elements",
   "texture : TEXTURE '{'",
   "texture : TEXTURE '{' texture_declarations '}'",
   "texture : TEXTURE_SYM",
   "texture : TEXTURE_SYM '{'",
   "texture : TEXTURE_SYM '{' texture_modifier_decls '}'",
   "texture_list : texture",
   "texture_list : texture_list ',' texture",
   "transform_declaration : ROTATE point",
   "transform_declaration : ROTATE point ',' fexper",
   "transform_declaration : SCALE point",
   "transform_declaration : TRANSLATE point",
   "transform_declarations : transform_declaration",
   "transform_declarations : transform_declarations transform_declaration",
   "transform : TRANSFORM '{'",
   "transform : TRANSFORM '{' transform_declarations '}'",
   "transform : TRANSFORM_SYM",
   "transform : TRANSFORM_SYM '{'",
   "transform : TRANSFORM_SYM '{' transform_declarations '}'",
   "bezier_points : bezier_points ',' point",
   "bezier_points : point",
   "bezier : BEZIER fexper ',' fexper ',' fexper ',' fexper ',' bezier_points",
   "blob : BLOB fexper ':'",
   "blob : BLOB fexper ':' blobelements",
   "blobelements : blobelement",
   "blobelements : blobelements ',' blobelement",
   "blobelement : fexper ',' fexper ',' point",
   "blobelement : SPHERE point ',' fexper ',' fexper",
   "blobelement : CYLINDER point ',' point ',' fexper ',' fexper",
   "blobelement : PLANE point ',' fexper ',' fexper ',' fexper",
   "blobelement : TORUS point ',' point ',' fexper ',' fexper ',' fexper",
   "box : BOX point ',' point",
   "cone : CONE point ',' fexper ',' point ',' fexper",
   "csg : /* empty */",
   "csg : csg_tree",
   "csg_tree : '(' csg_tree ')'",
   "csg_tree : csg_tree '+' csg_tree",
   "csg_tree : csg_tree '-' csg_tree",
   "csg_tree : csg_tree '*' csg_tree",
   "csg_tree : '~' csg_tree",
   "csg_tree : csg_tree '&' csg_tree",
   "csg_tree : csg_tree '^' csg_tree",
   "csg_tree : object",
   "cylinder : CYLINDER point ',' point ',' fexper",
   "cylindrical_height_field : CHEIGHT_FIELD sexper",
   "cylindrical_height_field : CHEIGHT_FIELD sexper ',' fexper ',' fexper",
   "cylindrical_height_fn : CHEIGHT_FN fexper ',' fexper ',' expression",
   "cylindrical_height_fn : CHEIGHT_FN fexper ',' fexper ',' expression ',' fexper ',' fexper",
   "disc : DISC point ',' point ',' fexper",
   "disc : DISC point ',' point ',' fexper ',' fexper",
   "function : FUNCTION expression",
   "gridded : GRIDDED sexper ',' object_list",
   "object_list : object",
   "object_list : object_list object",
   "height_field : HEIGHT_FIELD sexper",
   "height_fn : HEIGHT_FN fexper ',' fexper ',' fexper ',' fexper ',' fexper ',' fexper ',' expression",
   "height_fn : HEIGHT_FN fexper ',' fexper ',' expression",
   "hypertexture : HYPERTEXTURE expression",
   "lathe : LATHE fexper ',' point ',' fexper ','",
   "lathe : LATHE fexper ',' point ',' fexper ',' pointlist",
   "light_object : light",
   "nurb : NURB fexper ',' fexper ',' fexper ',' fexper ',' expression ',' expression ',' expression",
   "nurb : NURB fexper ',' fexper ',' fexper ',' fexper ',' expression",
   "parabola : PARABOLA point ',' point ',' fexper",
   "parametric : PARAMETRIC expression",
   "polygon : POLYGON fexper ','",
   "polygon : POLYGON fexper ',' pointlist",
   "polynomial : POLYNOMIAL expression",
   "patch_vertex : point ',' point",
   "patch_vertex : point ',' point UV fexper ',' fexper",
   "ppatch : PATCH",
   "ppatch : PATCH patch_vertex ',' patch_vertex ',' patch_vertex",
   "raw : RAW sexper",
   "raw : RAW sexper ',' fexper",
   "smooth_height_field : SMOOTH_HEIGHT_FIELD sexper",
   "smooth_height_fn : SMOOTH_HEIGHT_FN fexper ',' fexper ',' fexper ',' fexper ',' fexper ',' fexper ',' expression",
   "smooth_height_fn : SMOOTH_HEIGHT_FN fexper ',' fexper ',' expression",
   "smooth_cheight_field : SMOOTH_CHEIGHT_FIELD sexper",
   "smooth_cheight_field : SMOOTH_CHEIGHT_FIELD sexper ',' fexper ',' fexper",
   "smooth_cheight_fn : SMOOTH_CHEIGHT_FN fexper ',' fexper ',' expression",
   "smooth_cheight_fn : SMOOTH_CHEIGHT_FN fexper ',' fexper ',' expression ',' fexper ',' fexper",
   "smooth_sheight_field : SMOOTH_SHEIGHT_FIELD sexper",
   "smooth_sheight_field : SMOOTH_SHEIGHT_FIELD sexper ',' fexper ',' fexper",
   "smooth_sheight_fn : SMOOTH_SHEIGHT_FN fexper ',' fexper ',' expression",
   "smooth_sheight_fn : SMOOTH_SHEIGHT_FN fexper ',' fexper ',' expression ',' fexper ',' fexper",
   "sphere : SPHERE point ',' fexper",
   "spherical_height_field : SHEIGHT_FIELD sexper",
   "spherical_height_field : SHEIGHT_FIELD sexper ',' fexper ',' fexper",
   "spherical_height_fn : SHEIGHT_FN fexper ',' fexper ',' expression",
   "spherical_height_fn : SHEIGHT_FN fexper ',' fexper ',' expression ',' fexper ',' fexper",
   "superq : SUPERQ fexper ',' fexper",
   "contour : CONTOUR fexper ','",
   "contour : CONTOUR fexper ',' pointlist",
   "glyph_contours : contour",
   "glyph_contours : glyph_contours contour",
   "glyph : GLYPH fexper",
   "glyph : GLYPH fexper glyph_contours",
   "sweep : SWEEP fexper ',' point ',' fexper ','",
   "sweep : SWEEP fexper ',' point ',' fexper ',' pointlist",
   "torus : TORUS fexper ',' fexper ',' point ',' point",
   "fexper : expression",
   "point : expression",
   "sexper : expression",
   "pointlist : point",
   "pointlist : pointlist ',' point",
   "expression : '(' expression ')'",
   "expression : '[' expression_list ']'",
   "expression : '<' expression ',' expression '>'",
   "expression : '<' expression ',' expression ',' expression '>'",
   "expression : '<' expression ',' expression ',' expression ',' expression '>'",
   "expression : expression '[' expression ']'",
   "expression : '(' conditional '?' expression ':' expression ')'",
   "expression : expression '^' expression",
   "expression : expression '%' expression",
   "expression : expression '*' expression",
   "expression : expression '.' expression",
   "expression : expression '/' expression",
   "expression : expression '+' expression",
   "expression : expression '-' expression",
   "expression : '-' expression",
   "expression : '|' expression '|'",
   "expression : COLOR_MAP '(' map_entries ',' expression ')'",
   "expression : COLOR_MAP '(' map_entries ')'",
   "expression : NOISE '(' expression ')'",
   "expression : NOISE '(' expression ',' expression ')'",
   "expression : ROTATE '(' expression ',' expression ')'",
   "expression : ROTATE '(' expression ',' expression ',' expression ')'",
   "expression : COLOR",
   "expression : FRAME",
   "expression : END_FRAME",
   "expression : START_FRAME",
   "expression : TOTAL_FRAMES",
   "expression : TOKEN '(' expression_list ')'",
   "expression : TOKEN",
   "expression : NUM",
   "expression : STRING",
   "expression : EXPRESSION_SYM",
   "expression_list : expression",
   "expression_list : expression_list ',' expression",
   "conditional : '(' conditional ')'",
   "conditional : expression '<' expression",
   "conditional : expression '>' expression",
   "conditional : expression LTEQ_SYM expression",
   "conditional : expression GTEQ_SYM expression",
   "conditional : expression EQUAL_SYM expression",
   "conditional : conditional AND_SYM conditional",
   "conditional : conditional OR_SYM conditional",
   "conditional : '!' conditional",
   "map_entry : '[' fexper ',' fexper ',' point ',' point ']'",
   "map_entry : '[' fexper ',' fexper ',' point ',' fexper ',' point ',' fexper ']'",
   "map_entries : map_entry",
   "map_entries : map_entries map_entry",
   "frame_decl : end_frame_decl",
   "frame_decl : start_frame_decl",
   "frame_decl : total_frames_decl",
   "frame_decl : frame_time_decl",
   "end_frame_decl : END_FRAME fexper",
   "start_frame_decl : START_FRAME fexper",
   "total_frames_decl : TOTAL_FRAMES fexper",
   "frame_time_decl : FRAME_TIME fexper",
   "outfile : OUTFILE TOKEN",
   "outfile : OUTFILE STRING",
   "flush_statement : FILE_FLUSH fexper",
   "system_call : SYSTEM '(' expression_list ')'",
   "statement : '{' elementlist '}'",
   "statement : element",
   "if_else_part : ELSE",
   "if_else_part : ELSE statement",
   "if_else_part : /* empty */",
   "if_statement : IF '(' conditional ')'",
   "if_statement : IF '(' conditional ')' statement if_else_part",
};
#endif /* YYDEBUG */
/* yaccpar */
#define YYERROR goto yyerrlab
#define YYACCEPT return(0)
#define YYABORT return(1)
#define YYBACKUP(newtoken, newvalue)\
{\
   if (yychar >= 0 || (yyr2[yytmp] >> 1) != 1) {\
      yyerror("syntax error - cannot backup");\
      goto yyerrlab;\
      }\
   yychar = newtoken;\
   yystate = *yyps;\
   yylval = newvalue;\
   goto yynewstate;\
}
#define YYERVOVERING() (!!yyerrflag)
#ifndef YYDEBUG
#define YYDEBUG 0
#endif
int yydebug = 0; /* Set to 1 to get debugging */
#define YYFLAG (-1000)
YYSTYPE yyv[YYMAXDEPTH]; /* Value stack */
int yys[YYMAXDEPTH];     /* State stack */
YYSTYPE *yypv;           /* Top of value stack */
int *yyps;               /* Top of state stack */
int yystate;             /* Current state */
int yytmp;               /* Extra var (lasts between blocks) */
int yynerrs;             /* Number of errors */
int yyerrflag;           /* Error recovery flag */
int yychar;              /* Current input token number */

int
yyparse()
{
   register YYSTYPE *yypvt; /* Top of value stack for $vars */
   /* Initialize externals - yyparse may be called more than once */
   yypv = &yyv[-1];
   yyps = &yys[-1];
   yystate = 0;
   yytmp = 0;
   yynerrs = 0;
   yyerrflag = 0;
   yychar = -1;
   goto yystack;
   {
      register YYSTYPE *yy_pv;  /* Top of value stack */
      register int *yy_ps;      /* Top of state stack */
      register int yy_state;    /* Current state */
      register int yy_n;        /* Internal state number info */
   yynewstate:
      yy_pv = yypv;
      yy_ps = yyps;
      yy_state = yystate;
      goto yy_newstate;

      /* Get globals into registers. Either just started or just
         finished a reduction. */
   yystack:
      yy_pv = yypv;
      yy_ps = yyps;
      yy_state = yystate;

      /* Top of for(;;) loop while no reductions done */
   yy_stack:
      /* Put a state and value onto the stacks */
#if YYDEBUG
      /* If debugging, look up token value in list of value vs name pairs
         0 and negative (-1) are special values. Note: linear search is used
         since time is not a real consideration while debugging. */
      if (yydebug) {
         register int yy_i;
         printf("State %d, token ", yy_state);
         if (yychar == 0)
            printf("end-of-file\n");
         else if (yychar < 0)
            printf("-none-\n");
         else {
            for (yy_i=0;yytoks[yy_i].t_val>=0;yy_i++) {
               if (yytoks[yy_i].t_val == yychar)
                  break;
                  }
            printf("%s\n", yytoks[yy_i].t_name);
            }
         }
#endif /* YYDEBUG */
      if (++yy_ps >= &yys[YYMAXDEPTH]) {
         yyerror("YACC stack overflow");
         YYABORT;
         }
      *yy_ps = yy_state;
      *++yy_pv = yyval;

      /* Have a new state - find out what to do */
   yy_newstate:
      if ((yy_n = yypact[yy_state]) <= YYFLAG)
         goto yydefault;
#if YYDEBUG
      /* If debugging, need to mark whether new token grabbed */
      yytmp = yychar < 0;
#endif
      if ((yychar < 0) && ((yychar = yylex()) < 0))
         yychar = 0; /* Reached EOF */
#if YYDEBUG
   if (yydebug && yytmp) {
      register int yy_i;
      printf("Received token ");
      if (yychar == 0)
         printf("end-of-file\n");
      else if (yychar < 0)
         printf("-none-\n");
         else {
            for (yy_i = 0;yytoks[yy_i].t_val >= 0;yy_i++) {
               if (yytoks[yy_i].t_val == yychar)
                  break;
               }
            printf("%s\n", yytoks[yy_i].t_name);
            }
         }
#endif
      if (((yy_n += yychar)<0) || (yy_n >= YYLAST))
         goto yydefault;
      if (yychk[yy_n = yyact[yy_n]] == yychar) {
         /* Valid shift */
         yychar = -1;
         yyval = yylval;
         yy_state = yy_n;
         if (yyerrflag > 0)
            yyerrflag--;
         goto yy_stack;
         }
   yydefault:
      if ((yy_n = yydef[yy_state]) == -2) {
#if YYDEBUG
         yytmp = yychar < 0;
#endif
         if ((yychar < 0) && ((yychar = yylex()) < 0))
            yychar = 0; /* Reached EOF */
#if YYDEBUG
         if (yydebug && yytmp) {
            register int yy_i;
            printf("Received token ");
            if (yychar == 0)
               printf("end-of-file\n");
            else if (yychar < 0)
               printf("-none-\n");
            else {
               for (yy_i = 0;yytoks[yy_i].t_val >= 0;yy_i++) {
                  if (yytoks[yy_i].t_val == yychar) {
                     break;
                     }
                  }
               printf("%sn", yytoks[yy_i].t_name);
               }
            }
#endif
         /* Look through exception table */
            {
            register int *yyxi = yyexca;
            while ((*yyxi != -1) || (yyxi[1] != yy_state)) {
               yyxi += 2;
               }
            while ((*(yyxi += 2) >= 0) && (*yyxi != yychar));
            if ((yy_n = yyxi[1]) < 0)
               YYACCEPT;
            }
         }
         /* Check for syntax error */
         if (yy_n == 0) {
            /* Have an error */
            switch (yyerrflag) {
            case 0:
               yyerror("syntax error");
               goto skip_init;
            yyerrlab:
               /* Get globals into registers. Have a user generated
                  syntax type error */
               yy_pv = yypv;
               yy_ps = yyps;
               yy_state = yystate;
               yynerrs++;
            skip_init:
            case 1:
            case 2:
               /* Incompletely recovered error */
               yyerrflag = 3;
               /* Find state where "error" is a legal shift action */
               while (yy_ps >= yys) {
                  yy_n = yypact[*yy_ps] + YYERRCODE;
                  if (yy_n >= 0 && yy_n < YYLAST &&
                      yychk[yyact[yy_n]] == YYERRCODE) {
                      /* Simulate shift of "error" */
                      yy_state = yyact[yy_n];
                      goto yy_stack;
                      }
                  /* Current state has no shift on "error", pop stack */
#if YYDEBUG
#define _POP_ "Error recovery pops state %d, uncovers state %d\n"
                  if (yydebug) printf(_POP_, *yy_ps, yy_ps[-1]);
#undef _POP_
#endif
                  yy_ps--;
                  yy_pv--;
                  }
               /* There is no state on stack with "error" as a valid shift */
               YYABORT;
            case 3:
#if YYDEBUG
               /* If debugging look up token in list of pairs. 0 and negative
                  shouldn't occur. Since timing doesn't matter when debugging
                  it doesn't hurt to leave the tests here. */
               if (yydebug) {
                 register int yy_i;
                 printf("Error recovery discards ");
                 if (yychar == 0)
                    printf("token end-of-file\n");
                 else if (yychar < 0)
                    printf("token -none-\n");
                 else {
                    for (yy_i = 0;yytoks[yy_i].t_val >= 0;yy_i++) {
                       if (yytoks[yy_i].t_val == yychar) {
                          break;
                          }
                       }
                    printf("token %s\n", yytoks[yy_i].t_name);
                    }
                 }
#endif
               if (yychar == 0)
                  YYABORT;
               yychar = -1;
               goto yy_newstate;
            }
         } /* end if (yy_n == 0) */
      /* Reduction by production yy_n. Put stack tops, etc. so things right
         after switch */
#if YYDEBUG
      /* If debugging print the string that is the user's specification
         of the reduction which is just about to be done. */
      if (yydebug)
         printf("Reduce by (%d) \"%s\"\n", yy_n, yyreds[yy_n]);
#endif
      yytmp = yy_n; /* Value to switch over */
      yypvt = yy_pv; /* $vars top of value stack */
      /* Look in goto table for next state. If yyr2[yy_n] doesn't have the
         low order bit set then there is no action to be done for this
         reduction. So, no saving & unsaving of registers done. The only
         difference between the code just after the if and the body of the if
         is the goto yy_stack in the body. This way the test can be made
         before the choice of what to do is needed. */
      {
         register int yy_len = yyr2[yy_n];
         if (!(yy_len & 01)) {
            yy_len >>= 1;
            yyval = (yy_pv -= yy_len)[1]; /* $$ = $1 */
            yy_state = yypgo[yy_n = yyr1[yy_n]] + *(yy_ps -= yy_len) + 1;
            if (yy_state >= YYLAST ||
                yychk[yy_state = yyact[yy_state]] != -yy_n) {
               yy_state = yyact[yypgo[yy_n]];
               }
            goto yy_stack;
            }
         yy_len >>= 1;
         yyval = (yy_pv -= yy_len)[1]; /* $$ = $1 */
         yy_state = yypgo[yy_n = yyr1[yy_n]] + *(yy_ps -= yy_len) + 1;
         if (yy_state >= YYLAST ||
             yychk[yy_state = yyact[yy_state]] != -yy_n) {
                yy_state = yyact[yypgo[yy_n]];
            }
         }
      yystate = yy_state;
      yyps = yy_ps;
      yypv = yy_pv;
      }
   /* Code supplied by user is placed in this switch */
   switch (yytmp) {
      
case 1:
#line 396 "polyray.y"
{ condition_flags[0] = 1; } break;
case 13:
#line 415 "polyray.y"
{ ACTION(Add_To_Lights(yypvt[-0].lgt);) } break;
case 15:
#line 418 "polyray.y"
{ ACTION(Add_To_BinTree(&Root, yypvt[-0].obj);) } break;
case 18:
#line 422 "polyray.y"
{ ACTION(InsertParticle(yypvt[-0].part);) } break;
case 19:
#line 427 "polyray.y"
{ ACTION(include_file_action(POLYRAY_PATH_STRING, yypvt[-0].name);)
        polyray_free(yypvt[-0].name); } break;
case 20:
#line 433 "polyray.y"
{ yyval.name = yypvt[-0].name; } break;
case 21:
#line 435 "polyray.y"
{ yyval.name = yypvt[-0].name; } break;
case 22:
#line 437 "polyray.y"
{ yyval.name = yypvt[-0].name; } break;
case 23:
#line 439 "polyray.y"
{ yyval.name = yypvt[-0].name; } break;
case 24:
#line 441 "polyray.y"
{ yyval.name = yypvt[-0].name; } break;
case 25:
#line 443 "polyray.y"
{ yyval.name = yypvt[-0].name; } break;
case 26:
#line 445 "polyray.y"
{ yyval.name = yypvt[-0].name; } break;
case 27:
#line 450 "polyray.y"
{ ACTION(temp_def.type = T_SURFACE;
               temp_def.data = yypvt[-0].surf;) } break;
case 28:
#line 453 "polyray.y"
{ ACTION(temp_def.type = T_TEXTURE;
               temp_def.data = yypvt[-0].text;) } break;
case 29:
#line 456 "polyray.y"
{ ACTION(temp_def.type = T_TEXTURE_MAP;
               temp_def.data = yypvt[-0].text_map;) } break;
case 30:
#line 459 "polyray.y"
{ ACTION(temp_def.type = T_OBJECT;
               temp_def.data = yypvt[-0].obj;) } break;
case 31:
#line 462 "polyray.y"
{ ACTION(temp_def.type = T_TRANSFORM;
               temp_def.data = yypvt[-0].trns;) } break;
case 32:
#line 465 "polyray.y"
{ ACTION(temp_def.type = T_EXPRESSION;
               temp_def.data = yypvt[-0].exper;) } break;
case 33:
#line 468 "polyray.y"
{ ACTION(temp_def.type = T_PARTICLE;
               temp_def.data = yypvt[-0].part;) } break;
case 34:
#line 474 "polyray.y"
{ ACTION(Insert_Definition(yypvt[-1].name, temp_def.type,
                                 temp_def.data, 0, 0);) } break;
case 35:
#line 477 "polyray.y"
{ ACTION(Insert_Definition(yypvt[-1].name, temp_def.type,
                                 temp_def.data, 1, 0);) } break;
case 36:
#line 480 "polyray.y"
{ ACTION(Insert_Definition(yypvt[-1].name, temp_def.type,
                                 temp_def.data, 0, 0);)
        polyray_free(yypvt[-1].name); } break;
case 37:
#line 484 "polyray.y"
{ ACTION(Insert_Definition(yypvt[-1].name, temp_def.type,
                                 temp_def.data, 1, 0);)
        polyray_free(yypvt[-1].name); } break;
case 38:
#line 488 "polyray.y"
{ ACTION(Insert_Definition(yypvt[-1].name, temp_def.type,
                                 temp_def.data, 0, 1);) } break;
case 39:
#line 491 "polyray.y"
{ ACTION(Insert_Definition(yypvt[-1].name, temp_def.type,
                                 temp_def.data, 1, 1);) } break;
case 40:
#line 494 "polyray.y"
{ ACTION(Insert_Definition(yypvt[-1].name, temp_def.type,
                                 temp_def.data, 0, 1);)
        polyray_free(yypvt[-1].name); } break;
case 41:
#line 498 "polyray.y"
{ ACTION(Insert_Definition(yypvt[-1].name, temp_def.type,
                                 temp_def.data, 1, 1);)
        polyray_free(yypvt[-1].name); } break;
case 44:
#line 510 "polyray.y"
{ ACTION(SetParticleBirth(CurrentParticle, yypvt[-0].exper);) } break;
case 45:
#line 512 "polyray.y"
{ ACTION(SetParticleDeath(CurrentParticle, yypvt[-0].exper);) } break;
case 46:
#line 514 "polyray.y"
{ ACTION(SetParticleP(CurrentParticle, yypvt[-0].exper);) } break;
case 47:
#line 516 "polyray.y"
{ ACTION(SetParticleV(CurrentParticle, yypvt[-0].exper);) } break;
case 48:
#line 518 "polyray.y"
{ ACTION(SetParticleA(CurrentParticle, yypvt[-0].exper);) } break;
case 49:
#line 520 "polyray.y"
{ ACTION(SetParticleAvoid(CurrentParticle, yypvt[-0].exper);) } break;
case 50:
#line 522 "polyray.y"
{ ACTION(SetParticleFlock(CurrentParticle, yypvt[-0].exper);) } break;
case 51:
#line 524 "polyray.y"
{ ACTION(SetParticleCount(CurrentParticle, yypvt[-0].exper);) } break;
case 52:
#line 526 "polyray.y"
{ ACTION(SetParticleObjName(CurrentParticle, yypvt[-0].exper);) } break;
case 53:
#line 531 "polyray.y"
{ ACTION(CurrentParticle = CreateParticle();) } break;
case 54:
#line 533 "polyray.y"
{ ACTION(yyval.part = CurrentParticle;) } break;
case 55:
#line 535 "polyray.y"
{ ACTION(yyval.part = CopyParticle(yypvt[-0].name);) } break;
case 56:
#line 540 "polyray.y"
{ ACTION(Object_Stack = push_object(Object_Stack, object_action1());) } break;
case 57:
#line 542 "polyray.y"
{ ACTION(yyval.obj = pop_object(&Object_Stack);) } break;
case 58:
#line 544 "polyray.y"
{ ACTION(yyval.obj = object_action2(yypvt[-0].name);) } break;
case 59:
#line 546 "polyray.y"
{ ACTION(Object_Stack =
               push_object(Object_Stack, object_action2(yypvt[-1].name));) } break;
case 60:
#line 549 "polyray.y"
{ ACTION(yyval.obj = pop_object(&Object_Stack);) } break;
case 63:
#line 559 "polyray.y"
{ ACTION(if (Object_Stack->element->o_texture != NULL)
                        TextureDelete(Object_Stack->element->o_texture);
                     Object_Stack->element->o_texture = yypvt[-0].text;) } break;
case 64:
#line 563 "polyray.y"
{ ACTION(TransformObject(Object_Stack->element, yypvt[-0].trns);
               polyray_free(yypvt[-0].trns);) } break;
case 65:
#line 566 "polyray.y"
{ ACTION(RotateObject(Object_Stack->element, yypvt[-0].vec);) } break;
case 66:
#line 568 "polyray.y"
{ ACTION(RotateAxisObject(Object_Stack->element, yypvt[-2].vec, yypvt[-0].flt);) } break;
case 67:
#line 571 "polyray.y"
{ ACTION(ShearObject(Object_Stack->element, yypvt[-10].flt, yypvt[-8].flt,
                           yypvt[-6].flt, yypvt[-4].flt, yypvt[-2].flt, yypvt[-0].flt);) } break;
case 68:
#line 574 "polyray.y"
{ ACTION(TranslateObject(Object_Stack->element, yypvt[-0].vec);) } break;
case 69:
#line 576 "polyray.y"
{ ACTION(ScaleObject(Object_Stack->element, yypvt[-0].vec);) } break;
case 71:
#line 579 "polyray.y"
{ ACTION(Object_Stack->element->o_sflag = (int)yypvt[-0].flt;) } break;
case 72:
#line 581 "polyray.y"
{ ACTION(Object_Stack->element->o_dither = yypvt[-0].flt;) } break;
case 73:
#line 583 "polyray.y"
{ ACTION(VecCopy(yypvt[-2].vec, Object_Stack->element->o_bnd.lower_left);
              VecCopy(yypvt[-0].vec, Object_Stack->element->o_bnd.lengths);
              VecSub(Object_Stack->element->o_bnd.lengths,
                     Object_Stack->element->o_bnd.lower_left,
                     Object_Stack->element->o_bnd.lengths);) } break;
case 75:
#line 590 "polyray.y"
{ ACTION(Object_Stack->element->o_displace = yypvt[-0].exper;) } break;
case 76:
#line 595 "polyray.y"
{ ACTION(Object_Stack->element->o_uv_steps[0] = (int)yypvt[-2].flt;
               Object_Stack->element->o_uv_steps[1] = (int)yypvt[-0].flt;
               Object_Stack->element->o_uv_steps[2] = (int)yypvt[-0].flt;
               Object_Stack->element->o_sflag &= ~ADAPTIVE_UV;) } break;
case 77:
#line 600 "polyray.y"
{ ACTION(Object_Stack->element->o_uv_steps[0] = (int)yypvt[-4].flt;
               Object_Stack->element->o_uv_steps[1] = (int)yypvt[-2].flt;
               Object_Stack->element->o_uv_steps[2] = (int)yypvt[-0].flt;
               Object_Stack->element->o_sflag &= ~ADAPTIVE_UV;) } break;
case 78:
#line 605 "polyray.y"
{ ACTION(Object_Stack->element->o_uv_steps[0] = (int)yypvt[-0].flt;
               Object_Stack->element->o_sflag &= ~ADAPTIVE_UV;) } break;
case 79:
#line 608 "polyray.y"
{ ACTION(Object_Stack->element->o_uv_steps[1] = (int)yypvt[-0].flt;
               Object_Stack->element->o_sflag &= ~ADAPTIVE_UV;) } break;
case 80:
#line 611 "polyray.y"
{ ACTION(Object_Stack->element->o_uv_steps[2] = (int)yypvt[-0].flt;
               Object_Stack->element->o_sflag &= ~ADAPTIVE_UV;) } break;
case 81:
#line 614 "polyray.y"
{ ACTION(Object_Stack->element->o_uv_bounds[0] = yypvt[-6].flt;
               Object_Stack->element->o_uv_bounds[1] = yypvt[-4].flt;
               Object_Stack->element->o_uv_bounds[2] = yypvt[-2].flt;
               Object_Stack->element->o_uv_bounds[3] = yypvt[-0].flt;) } break;
case 82:
#line 622 "polyray.y"
{ ACTION(root_solver_action(Object_Stack->element, 0);) } break;
case 83:
#line 624 "polyray.y"
{ ACTION(root_solver_action(Object_Stack->element, 1);) } break;
case 84:
#line 626 "polyray.y"
{ ACTION(root_solver_action(Object_Stack->element, 2);) } break;
case 123:
#line 675 "polyray.y"
{ ACTION(Eye.view_angle = degtorad(yypvt[-0].flt/2.0 );) } break;
case 124:
#line 677 "polyray.y"
{ ACTION(antialias = (int)yypvt[-0].flt;
              if (antialias < 0 || antialias > 4)
                 error("Antialias value of %d is not between 0 and 4",
                       antialias);)} break;
case 125:
#line 682 "polyray.y"
{ ACTION(antialias_threshold = yypvt[-0].flt;) } break;
case 126:
#line 684 "polyray.y"
{ ACTION(Eye.view_aperture = yypvt[-0].flt;) } break;
case 127:
#line 686 "polyray.y"
{ ACTION(Eye.view_aspect = yypvt[-0].flt;) } break;
case 128:
#line 688 "polyray.y"
{ ACTION(VecCopy(yypvt[-0].vec, Eye.view_at);) } break;
case 129:
#line 690 "polyray.y"
{ ACTION(Eye.view_focaldist = yypvt[-0].flt;) } break;
case 130:
#line 692 "polyray.y"
{ ACTION(VecCopy(yypvt[-0].vec, Eye.view_from);) } break;
case 131:
#line 694 "polyray.y"
{ ACTION(Eye.view_hither = yypvt[-0].flt;) } break;
case 132:
#line 696 "polyray.y"
{ ACTION(if ((int)(yypvt[-0].flt) == 0)
                 DepthRender = 0;
              else if ((int)(yypvt[-0].flt) == 1) {
                 pixel_encoding = 0;
                 DepthRender = 1;
                 }
              else
                 error("image_format must be either 0 (normal) or 1 (depth)");
              ) } break;
case 133:
#line 706 "polyray.y"
{ ACTION(Eye.view_x0 = (int) yypvt[-6].flt;
              Eye.view_y0 = (int) yypvt[-4].flt;
              Eye.view_xl = (int) yypvt[-2].flt;
              Eye.view_yl = (int) yypvt[-0].flt;) } break;
case 134:
#line 711 "polyray.y"
{ ACTION(maxsamples = (int)yypvt[-0].flt;
              if (maxsamples < 0)
                 error("maxsamples must be greater than 0");)} break;
case 135:
#line 715 "polyray.y"
{ ACTION(maxlevel = (int)yypvt[-0].flt;
              if (maxlevel < 1 || maxlevel > 63)
                 error("maxlevel must be between 1 and 63");)} break;
case 136:
#line 719 "polyray.y"
{ ACTION(pixel_encoding = (int)yypvt[-0].flt;
              if (pixel_encoding != 0 && pixel_encoding != 1)
                 error("Pixel encoding of %d is not one of: 0 [none], 1 [RLE]",
                       pixel_encoding);) } break;
case 137:
#line 724 "polyray.y"
{ ACTION(pixelsize = (int)yypvt[-0].flt;
              if (pixelsize != 8 && pixelsize != 16 &&
                  pixelsize != 24 && pixelsize != 32)
                 error("Pixelsize of %d is not one of: 8, 16, 24, 32",
                       pixelsize);) } break;
case 138:
#line 730 "polyray.y"
{ ACTION(Eye.view_xres = (int) yypvt[-2].flt;
              Eye.view_yres = (int) yypvt[-0].flt;) } break;
case 139:
#line 733 "polyray.y"
{ ACTION(VecCopy(yypvt[-0].vec, Eye.view_up);) } break;
case 140:
#line 735 "polyray.y"
{ ACTION(Eye.view_yon = yypvt[-0].flt;) } break;
case 146:
#line 754 "polyray.y"
{ ACTION(Set_Flare_Color(yypvt[-0].exper);) } break;
case 147:
#line 756 "polyray.y"
{ ACTION(Set_Flare_Count(yypvt[-0].flt);) } break;
case 148:
#line 758 "polyray.y"
{ ACTION(Set_Flare_Spacing(yypvt[-0].flt);) } break;
case 149:
#line 760 "polyray.y"
{ ACTION(Set_Flare_Seed((int)yypvt[-0].flt);) } break;
case 150:
#line 762 "polyray.y"
{ ACTION(Set_Flare_Size(yypvt[-2].flt, yypvt[-0].flt);) } break;
case 151:
#line 764 "polyray.y"
{ ACTION(Set_Flare_Concave(yypvt[-0].flt);) } break;
case 152:
#line 766 "polyray.y"
{ ACTION(Set_Flare_Sphere(yypvt[-0].flt);) } break;
case 153:
#line 771 "polyray.y"
{ ACTION(Set_Light_Color(yypvt[-0].exper);) } break;
case 154:
#line 773 "polyray.y"
{ ACTION(Translate_Light(yypvt[-2].vec);
               Set_Light_Radius(yypvt[-0].flt);) } break;
case 155:
#line 776 "polyray.y"
{ ACTION(Set_Light_Polygon(yypvt[-6].flt, yypvt[-4].flt, yypvt[-2].flt, yypvt[-0].flt);) } break;
case 156:
#line 778 "polyray.y"
{ ACTION(Set_Light_Shadow(0);) } break;
case 157:
#line 780 "polyray.y"
{ ACTION(Create_Lens_Flare();) } break;
case 159:
#line 783 "polyray.y"
{ ACTION(Transform_Light(yypvt[-0].trns);
               polyray_free(yypvt[-0].trns);) } break;
case 160:
#line 786 "polyray.y"
{ ACTION(Rotate_Light(yypvt[-0].vec);) } break;
case 161:
#line 788 "polyray.y"
{ ACTION(Rotate_Axis_Light(yypvt[-2].vec, yypvt[-0].flt);) } break;
case 162:
#line 791 "polyray.y"
{ ACTION(Shear_Light(yypvt[-10].flt, yypvt[-8].flt, yypvt[-6].flt,
                           yypvt[-4].flt, yypvt[-2].flt, yypvt[-0].flt);) } break;
case 163:
#line 794 "polyray.y"
{ ACTION(Translate_Light(yypvt[-0].vec);) } break;
case 164:
#line 796 "polyray.y"
{ ACTION(Scale_Light(yypvt[-0].vec);) } break;
case 167:
#line 806 "polyray.y"
{ ACTION(DepthLight1(yypvt[-0].flt);) } break;
case 168:
#line 808 "polyray.y"
{ ACTION(DepthLight2(yypvt[-0].flt);) } break;
case 169:
#line 810 "polyray.y"
{ ACTION(DepthLight3(yypvt[-0].vec);) } break;
case 170:
#line 812 "polyray.y"
{ ACTION(DepthLight4(yypvt[-0].exper);) } break;
case 171:
#line 814 "polyray.y"
{ ACTION(DepthLight5(yypvt[-0].name);
               polyray_free(yypvt[-0].name);) } break;
case 172:
#line 817 "polyray.y"
{ ACTION(DepthLight6(yypvt[-0].vec);) } break;
case 173:
#line 819 "polyray.y"
{ ACTION(DepthLight9(yypvt[-0].flt);) } break;
case 174:
#line 821 "polyray.y"
{ ACTION(DepthLight7(yypvt[-0].vec);) } break;
case 175:
#line 823 "polyray.y"
{ ACTION(Set_Light_Shadow(0);) } break;
case 178:
#line 833 "polyray.y"
{ ACTION(haze_action(yypvt[-4].flt, yypvt[-2].flt, yypvt[-0].vec);) } break;
case 179:
#line 838 "polyray.y"
{ ACTION(yyval.lgt = light_action1(yypvt[-2].vec, yypvt[-0].vec);) } break;
case 180:
#line 840 "polyray.y"
{ ACTION(yyval.lgt = light_action2(yypvt[-0].vec);) } break;
case 181:
#line 842 "polyray.y"
{ ACTION(yyval.lgt = light_action1(yypvt[-2].vec, yypvt[-0].vec);
              Set_Light_Shadow(0);) } break;
case 182:
#line 845 "polyray.y"
{ ACTION(yyval.lgt = light_action2(yypvt[-0].vec);
              Set_Light_Shadow(0);) } break;
case 183:
#line 848 "polyray.y"
{ ACTION(yyval.lgt = SetSpotLight(White, yypvt[-2].vec, yypvt[-0].vec, 10.0, 30, 45);) } break;
case 184:
#line 850 "polyray.y"
{ ACTION(yyval.lgt = SetSpotLight(yypvt[-10].vec, yypvt[-8].vec, yypvt[-6].vec, yypvt[-4].flt,
                           yypvt[-2].flt, yypvt[-0].flt);) } break;
case 185:
#line 853 "polyray.y"
{ ACTION(yyval.lgt = SetSpotLight(White, yypvt[-2].vec, yypvt[-0].vec, 10.0, 30, 45);
              Set_Light_Shadow(0);) } break;
case 186:
#line 857 "polyray.y"
{ ACTION(yyval.lgt = SetSpotLight(yypvt[-10].vec, yypvt[-8].vec, yypvt[-6].vec, yypvt[-4].flt,
                           yypvt[-2].flt, yypvt[-0].flt);
              Set_Light_Shadow(0);) } break;
case 187:
#line 861 "polyray.y"
{ ACTION(yyval.lgt = light_action3();) } break;
case 188:
#line 863 "polyray.y"
{ ACTION(yyval.lgt = Current_Light;) } break;
case 189:
#line 865 "polyray.y"
{ ACTION(yyval.lgt = light_action4(yypvt[-0].vec);) } break;
case 190:
#line 867 "polyray.y"
{ ACTION(yyval.lgt = light_action5(yypvt[-2].vec, yypvt[-0].vec);) } break;
case 191:
#line 869 "polyray.y"
{ ACTION(yyval.lgt = light_action4(yypvt[-0].vec);
              Set_Light_Shadow(0);) } break;
case 192:
#line 872 "polyray.y"
{ ACTION(yyval.lgt = light_action5(yypvt[-2].vec, yypvt[-0].vec);
              Set_Light_Shadow(0);) } break;
case 193:
#line 875 "polyray.y"
{ ACTION(yyval.lgt = light_action6();) } break;
case 194:
#line 877 "polyray.y"
{ ACTION(DepthLight8();
              yyval.lgt = Current_Light;) } break;
case 195:
#line 883 "polyray.y"
{ ACTION(draw_action(yypvt[-8].flt, yypvt[-6].flt, (int)yypvt[-4].flt,
                           yypvt[-2].exper, yypvt[-0].exper);) } break;
case 196:
#line 886 "polyray.y"
{ ACTION(draw_action(0.0, 0.0, 0, yypvt[-2].exper, yypvt[-0].exper);) } break;
case 197:
#line 891 "polyray.y"
{ ACTION(background_action(yypvt[-0].exper);) } break;
case 198:
#line 896 "polyray.y"
{ ACTION(color_action(CurrentSurface, yypvt[-0].exper);) } break;
case 199:
#line 898 "polyray.y"
{ ACTION(color_map_action(CurrentSurface, yypvt[-3].cmap_entry, yypvt[-1].exper);) } break;
case 200:
#line 900 "polyray.y"
{ ACTION(color_map_action(CurrentSurface, yypvt[-1].cmap_entry, NULL);) } break;
case 201:
#line 902 "polyray.y"
{ ACTION(ambient_action(CurrentSurface, yypvt[-2].exper, yypvt[-0].exper);) } break;
case 202:
#line 904 "polyray.y"
{ ACTION(ambient_action(CurrentSurface, NULL, yypvt[-0].exper);) } break;
case 203:
#line 906 "polyray.y"
{ ACTION(brilliance_action(CurrentSurface, yypvt[-0].exper);) } break;
case 204:
#line 908 "polyray.y"
{ ACTION(bump_scale_action(CurrentSurface, yypvt[-0].exper);) } break;
case 205:
#line 910 "polyray.y"
{ ACTION(diffuse_action(CurrentSurface, yypvt[-2].exper, yypvt[-0].exper);) } break;
case 206:
#line 912 "polyray.y"
{ ACTION(diffuse_action(CurrentSurface, NULL, yypvt[-0].exper);) } break;
case 207:
#line 914 "polyray.y"
{ ACTION(frequency_action(CurrentSurface, yypvt[-0].exper);) } break;
case 208:
#line 916 "polyray.y"
{ ACTION(lookup_function_action(CurrentSurface, yypvt[-0].exper);) } break;
case 209:
#line 918 "polyray.y"
{ ACTION(microfacet_action(CurrentSurface, PHONG, yypvt[-0].exper);) } break;
case 210:
#line 920 "polyray.y"
{ ACTION(microfacet_action(CurrentSurface, BLINN, yypvt[-0].exper);) } break;
case 211:
#line 922 "polyray.y"
{ ACTION(microfacet_action(CurrentSurface, GAUSSIAN, yypvt[-0].exper);) } break;
case 212:
#line 924 "polyray.y"
{ ACTION(microfacet_action(CurrentSurface, REITZ, yypvt[-0].exper);) } break;
case 213:
#line 926 "polyray.y"
{ ACTION(microfacet_action(CurrentSurface, COOK, yypvt[-0].exper);) } break;
case 214:
#line 928 "polyray.y"
{ ACTION(microfacet_action(CurrentSurface, PHONG, yypvt[-0].exper);) } break;
case 215:
#line 930 "polyray.y"
{ ACTION(normal_action(CurrentSurface, yypvt[-0].exper);) } break;
case 216:
#line 932 "polyray.y"
{ ACTION(position_action(CurrentSurface, yypvt[-0].exper);) } break;
case 217:
#line 934 "polyray.y"
{ ACTION(octaves_action(CurrentSurface, yypvt[-0].exper);) } break;
case 218:
#line 936 "polyray.y"
{ ACTION(phase_action(CurrentSurface, yypvt[-0].exper);) } break;
case 219:
#line 938 "polyray.y"
{ ACTION(position_function_action(CurrentSurface, yypvt[-0].exper);) } break;
case 220:
#line 940 "polyray.y"
{ ACTION(position_scale_action(CurrentSurface, yypvt[-0].exper);) } break;
case 221:
#line 942 "polyray.y"
{ ACTION(reflection_action(CurrentSurface, yypvt[-2].exper, yypvt[-0].exper);) } break;
case 222:
#line 944 "polyray.y"
{ ACTION(reflection_action(CurrentSurface, NULL, yypvt[-0].exper);) } break;
case 223:
#line 946 "polyray.y"
{ ACTION(specular_action(CurrentSurface, yypvt[-2].exper, yypvt[-0].exper);) } break;
case 224:
#line 948 "polyray.y"
{ ACTION(specular_action(CurrentSurface, NULL, yypvt[-0].exper);) } break;
case 225:
#line 950 "polyray.y"
{ ACTION(transmission_action(CurrentSurface, yypvt[-4].exper, yypvt[-2].exper,
                                   yypvt[-0].exper);) } break;
case 226:
#line 953 "polyray.y"
{ ACTION(transmission_action(CurrentSurface, NULL,
                                   yypvt[-2].exper, yypvt[-0].exper);) } break;
case 227:
#line 956 "polyray.y"
{ ACTION(turbulence_action(CurrentSurface, yypvt[-0].exper);) } break;
case 230:
#line 966 "polyray.y"
{ ACTION(surface_action1();) } break;
case 231:
#line 968 "polyray.y"
{ ACTION(yyval.surf = CurrentSurface;) } break;
case 232:
#line 970 "polyray.y"
{ ACTION(surface_action2(yypvt[-0].name); yyval.surf = CurrentSurface;) } break;
case 233:
#line 972 "polyray.y"
{ ACTION(surface_action2(yypvt[-1].name);) } break;
case 234:
#line 974 "polyray.y"
{ ACTION(yyval.surf = CurrentSurface;) } break;
case 235:
#line 979 "polyray.y"
{ ACTION(yyval.text_map =
               make_texture_map_entry(yypvt[-7].flt, yypvt[-5].flt, yypvt[-3].text, yypvt[-1].text);) } break;
case 236:
#line 985 "polyray.y"
{ ACTION(yyval.text_map = yypvt[-0].text_map;) } break;
case 237:
#line 987 "polyray.y"
{ ACTION(yyval.text_map =
               texture_map_action2(yypvt[-2].text_map, yypvt[-0].text_map);) } break;
case 238:
#line 993 "polyray.y"
{ ACTION(yyval.text_fn = make_texture_fn_entry(yypvt[-2].exper, yypvt[-0].text);) } break;
case 239:
#line 998 "polyray.y"
{ ACTION(yyval.text_fn = yypvt[-0].text_fn;) } break;
case 240:
#line 1000 "polyray.y"
{ ACTION(yyval.text_fn = texture_fn_action2(yypvt[-2].text_fn, yypvt[-0].text_fn);) } break;
case 241:
#line 1005 "polyray.y"
{ ACTION(yyval.text_map = texture_map_action1(yypvt[-0].name);) } break;
case 242:
#line 1007 "polyray.y"
{ ACTION(yyval.text_map = yypvt[-1].text_map;) } break;
case 245:
#line 1017 "polyray.y"
{ ACTION(if (Texture_Stack->element->t_trans == NULL)
                  Texture_Stack->element->t_trans = yypvt[-0].trns;
               else {
                  Compose_Transformations(Texture_Stack->element->t_trans,
                                          yypvt[-0].trns);
                  polyray_free(yypvt[-0].trns);
                  }) } break;
case 246:
#line 1025 "polyray.y"
{ ACTION(TextureRotate(Texture_Stack->element, yypvt[-0].vec);) } break;
case 247:
#line 1027 "polyray.y"
{ ACTION(TextureAxisRotate(Texture_Stack->element, yypvt[-2].vec, yypvt[-0].flt);) } break;
case 248:
#line 1030 "polyray.y"
{ ACTION(TextureShear(Texture_Stack->element, yypvt[-10].flt, yypvt[-8].flt,
                            yypvt[-6].flt, yypvt[-4].flt, yypvt[-2].flt, yypvt[-0].flt);) } break;
case 249:
#line 1033 "polyray.y"
{ ACTION(TextureTranslate(Texture_Stack->element, yypvt[-0].vec);) } break;
case 250:
#line 1035 "polyray.y"
{ ACTION(TextureScale(Texture_Stack->element, yypvt[-0].vec);) } break;
case 252:
#line 1044 "polyray.y"
{ ACTION(create_plain(Texture_Stack->element, yypvt[-0].surf);) } break;
case 253:
#line 1046 "polyray.y"
{ ACTION(create_special(Texture_Stack->element, yypvt[-0].surf);) } break;
case 254:
#line 1048 "polyray.y"
{ ACTION(create_noise(Texture_Stack->element, yypvt[-0].surf);) } break;
case 255:
#line 1050 "polyray.y"
{ ACTION(create_checker(Texture_Stack->element, yypvt[-2].text, yypvt[-0].text);) } break;
case 256:
#line 1052 "polyray.y"
{ ACTION(create_hexagon(Texture_Stack->element,
                              yypvt[-4].text, yypvt[-2].text, yypvt[-0].text);) } break;
case 257:
#line 1055 "polyray.y"
{ ACTION(create_layered(Texture_Stack->element, yypvt[-0].textlist);) } break;
case 258:
#line 1057 "polyray.y"
{ ACTION(create_indexed(Texture_Stack->element, yypvt[-2].exper,
                              yypvt[-0].text_map);) } break;
case 259:
#line 1060 "polyray.y"
{ ACTION(create_summed(Texture_Stack->element, yypvt[-0].text_fn);) } break;
case 260:
#line 1065 "polyray.y"
{ ACTION(push_texture(texture_action1());) } break;
case 261:
#line 1067 "polyray.y"
{ ACTION(yyval.text = pop_texture();) } break;
case 262:
#line 1069 "polyray.y"
{ ACTION(yyval.text = texture_action2(yypvt[-0].name);) } break;
case 263:
#line 1071 "polyray.y"
{ ACTION(push_texture(texture_action2(yypvt[-1].name));) } break;
case 264:
#line 1073 "polyray.y"
{ ACTION(yyval.text = pop_texture();) } break;
case 265:
#line 1078 "polyray.y"
{ ACTION(yyval.textlist = texture_list_action1(yypvt[-0].text);) } break;
case 266:
#line 1080 "polyray.y"
{ ACTION(yyval.textlist = texture_list_action2(yypvt[-2].textlist, yypvt[-0].text);) } break;
case 267:
#line 1085 "polyray.y"
{ ACTION(rotate_transform(Current_Transform, yypvt[-0].vec);) } break;
case 268:
#line 1087 "polyray.y"
{ ACTION(axis_rotate_transform(Current_Transform, yypvt[-2].vec, yypvt[-0].flt);) } break;
case 269:
#line 1089 "polyray.y"
{ ACTION(scale_transform(Current_Transform, yypvt[-0].vec);) } break;
case 270:
#line 1091 "polyray.y"
{ ACTION(translate_transform(Current_Transform, yypvt[-0].vec);) } break;
case 273:
#line 1101 "polyray.y"
{ ACTION(Current_Transform = transform_action1();) } break;
case 274:
#line 1103 "polyray.y"
{ ACTION(yyval.trns = Current_Transform;) } break;
case 275:
#line 1105 "polyray.y"
{ ACTION(yyval.trns = transform_action2(yypvt[-0].name);) } break;
case 276:
#line 1107 "polyray.y"
{ ACTION(Current_Transform = transform_action2(yypvt[-1].name);) } break;
case 277:
#line 1109 "polyray.y"
{ ACTION(yyval.trns = Current_Transform;) } break;
case 278:
#line 1114 "polyray.y"
{ ACTION(yyval.vecl = add_bezier_point(yypvt[-2].vecl, yypvt[-0].vec);) } break;
case 279:
#line 1116 "polyray.y"
{ ACTION(yyval.vecl = add_bezier_point(NULL, yypvt[-0].vec);) } break;
case 280:
#line 1121 "polyray.y"
{ ACTION(MakeBezier(Object_Stack->element,
                          (int)yypvt[-8].flt, yypvt[-6].flt, (int)yypvt[-4].flt,
                          (int)yypvt[-2].flt, yypvt[-0].vecl);) } break;
case 281:
#line 1128 "polyray.y"
{ ACTION(npoints = 0;) } break;
case 282:
#line 1130 "polyray.y"
{ ACTION(MakeBlob(Object_Stack->element, yypvt[-3].flt,
                       blob_components, npoints, 1);
              blob_components = NULL; npoints = 0;) } break;
case 285:
#line 1142 "polyray.y"
{ ACTION(spherical_component_action(yypvt[-0].vec, yypvt[-4].flt, yypvt[-2].flt);) } break;
case 286:
#line 1144 "polyray.y"
{ ACTION(spherical_component_action(yypvt[-4].vec, yypvt[-2].flt, yypvt[-0].flt);) } break;
case 287:
#line 1146 "polyray.y"
{ ACTION(cylindrical_component_action(yypvt[-6].vec, yypvt[-4].vec,
                                            yypvt[-2].flt, yypvt[-0].flt);) } break;
case 288:
#line 1149 "polyray.y"
{ ACTION(planar_component_action(yypvt[-6].vec, yypvt[-4].flt,
                                       yypvt[-2].flt, yypvt[-0].flt);) } break;
case 289:
#line 1152 "polyray.y"
{ ACTION(toroidal_component_action(yypvt[-8].vec, yypvt[-6].vec,
                                         yypvt[-4].flt, yypvt[-2].flt, yypvt[-0].flt);) } break;
case 290:
#line 1158 "polyray.y"
{ ACTION(MakeBox(Object_Stack->element, yypvt[-2].vec, yypvt[-0].vec);) } break;
case 291:
#line 1163 "polyray.y"
{ ACTION(MakeCone(Object_Stack->element, yypvt[-6].vec,
                        yypvt[-4].flt, yypvt[-2].vec, yypvt[-0].flt);) } break;
case 292:
#line 1168 "polyray.y"
{ ACTION(ObjectDepth++;) } break;
case 293:
#line 1170 "polyray.y"
{ ACTION(ObjectDepth--;
               MakeCSG(Object_Stack->element, yypvt[-0].csgtree);) } break;
case 294:
#line 1176 "polyray.y"
{ ACTION(yyval.csgtree = yypvt[-1].csgtree;) } break;
case 295:
#line 1178 "polyray.y"
{ ACTION(yyval.csgtree =
                  make_csg_node(T_UNION, yypvt[-2].csgtree, yypvt[-0].csgtree);) } break;
case 296:
#line 1181 "polyray.y"
{ ACTION(yyval.csgtree =
                  make_csg_node(T_INTERSECTION, yypvt[-2].csgtree,
                                make_csg_node(T_INVERSE, yypvt[-0].csgtree, NULL));) } break;
case 297:
#line 1185 "polyray.y"
{ ACTION(yyval.csgtree =
                  make_csg_node(T_INTERSECTION, yypvt[-2].csgtree, yypvt[-0].csgtree);) } break;
case 298:
#line 1188 "polyray.y"
{ ACTION(yyval.csgtree =
                  make_csg_node(T_INVERSE, yypvt[-0].csgtree, NULL);) } break;
case 299:
#line 1191 "polyray.y"
{ ACTION(yyval.csgtree =
                  make_csg_node(T_CLIP, yypvt[-2].csgtree, yypvt[-0].csgtree);) } break;
case 300:
#line 1194 "polyray.y"
{ ACTION(yyval.csgtree =
                  make_csg_node(T_MERGE, yypvt[-2].csgtree, yypvt[-0].csgtree);) } break;
case 301:
#line 1197 "polyray.y"
{ ACTION(yyval.csgtree =
                  make_csg_node(T_BASE_OBJECT, yypvt[-0].obj, NULL);) } break;
case 302:
#line 1203 "polyray.y"
{ ACTION(MakeCylinder(Object_Stack->element,
                            yypvt[-4].vec, yypvt[-2].vec, yypvt[-0].flt);) } break;
case 303:
#line 1209 "polyray.y"
{ ACTION(MakeCylHeight(Object_Stack->element, yypvt[-0].name, 0,
                             1.0, 128.0);
        polyray_free(yypvt[-0].name);) } break;
case 304:
#line 1213 "polyray.y"
{ ACTION(MakeCylHeight(Object_Stack->element, yypvt[-4].name, 0,
                             yypvt[-2].flt, yypvt[-0].flt);
        polyray_free(yypvt[-4].name);) } break;
case 305:
#line 1220 "polyray.y"
{ ACTION(MakeCylHeightFn(Object_Stack->element, yypvt[-4].flt, yypvt[-2].flt,
                               yypvt[-0].exper, 0, 1.0, 128.0);) } break;
case 306:
#line 1224 "polyray.y"
{ ACTION(MakeCylHeightFn(Object_Stack->element, yypvt[-8].flt, yypvt[-6].flt,
                               yypvt[-4].exper, 0, yypvt[-2].flt, yypvt[-0].flt);) } break;
case 307:
#line 1230 "polyray.y"
{ ACTION(MakeDisc(Object_Stack->element,
                        yypvt[-4].vec, yypvt[-2].vec, 0.0, yypvt[-0].flt);) } break;
case 308:
#line 1233 "polyray.y"
{ ACTION(MakeDisc(Object_Stack->element,
                        yypvt[-6].vec, yypvt[-4].vec, yypvt[-2].flt, yypvt[-0].flt);) } break;
case 309:
#line 1239 "polyray.y"
{ ACTION(MakeFunction(Object_Stack->element, yypvt[-0].exper);) } break;
case 310:
#line 1244 "polyray.y"
{ ACTION(MakeGrid(Object_Stack->element, yypvt[-2].name, yypvt[-0].objlist);
        polyray_free(yypvt[-2].name);) } break;
case 311:
#line 1250 "polyray.y"
{ ACTION(ostackptr ost =
                     polyray_malloc(sizeof(struct object_stack_struct));
                if (ost == NULL) error("Failed to allocate grid object");
                ost->element = yypvt[-0].obj;
                ost->next    = NULL;
                yyval.objlist  = ost;) } break;
case 312:
#line 1257 "polyray.y"
{ ACTION(ostackptr ost =
                     polyray_malloc(sizeof(struct object_stack_struct));
                if (ost == NULL) error("Failed to allocate grid object");
                ost->element = yypvt[-0].obj;
                ost->next    = yypvt[-1].objlist;
                yyval.objlist  = ost;) } break;
case 313:
#line 1267 "polyray.y"
{ ACTION(MakeHeight(Object_Stack->element, yypvt[-0].name, 0);
        polyray_free(yypvt[-0].name);) } break;
case 314:
#line 1275 "polyray.y"
{ ACTION(MakeHeightFn(Object_Stack->element, (int)yypvt[-12].flt, (int)yypvt[-10].flt,
                            yypvt[-8].flt, yypvt[-6].flt, yypvt[-4].flt, yypvt[-2].flt,
                            yypvt[-0].exper, 0);) } break;
case 315:
#line 1279 "polyray.y"
{ ACTION(MakeHeightFn(Object_Stack->element, (int)yypvt[-4].flt, (int)yypvt[-2].flt,
                            0.0, 1.0, 0.0, 1.0,
                            yypvt[-0].exper, 0);) } break;
case 316:
#line 1286 "polyray.y"
{ ACTION(MakeHypertexture(Object_Stack->element, yypvt[-0].exper);) } break;
case 317:
#line 1291 "polyray.y"
{ ACTION(npoints = (int)yypvt[-1].flt;
            plist = (fVec *)polyray_malloc((int)yypvt[-1].flt * sizeof(fVec));
            if (plist == NULL) error("Failed to allocate lathe data\n");
            pl = plist;) } break;
case 318:
#line 1296 "polyray.y"
{ ACTION(MakeRevolve(Object_Stack->element, (int)yypvt[-7].flt,
                        yypvt[-5].vec, (int)yypvt[-3].flt, plist);) } break;
case 319:
#line 1302 "polyray.y"
{ ACTION(MakeLight(Object_Stack->element, yypvt[-0].lgt);) } break;
case 320:
#line 1308 "polyray.y"
{ ACTION(MakeNurb(Object_Stack->element, (int)yypvt[-12].flt, (int)yypvt[-10].flt,
                     (int)yypvt[-8].flt, (int)yypvt[-6].flt, yypvt[-4].exper, yypvt[-2].exper,
                     yypvt[-0].exper);) } break;
case 321:
#line 1313 "polyray.y"
{ ACTION(MakeNurb(Object_Stack->element, (int)yypvt[-8].flt, (int)yypvt[-6].flt,
                     (int)yypvt[-4].flt, (int)yypvt[-2].flt, NULL, NULL,
                     yypvt[-0].exper);) } break;
case 322:
#line 1320 "polyray.y"
{ ACTION(MakeParabola(Object_Stack->element,
                            yypvt[-4].vec, yypvt[-2].vec, yypvt[-0].flt);) } break;
case 323:
#line 1326 "polyray.y"
{ ACTION(MakeParametric(Object_Stack->element, yypvt[-0].exper);) } break;
case 324:
#line 1331 "polyray.y"
{ ACTION(npoints = (int)yypvt[-1].flt;
            if (npoints < 3)
               error("polygons must have at least 3 sides\n");
            plist = (fVec *)polyray_malloc((int)yypvt[-1].flt * sizeof(fVec)) ;
            if (plist == NULL) error("Failed to allocate polygon data\n");
            pl = plist;) } break;
case 325:
#line 1338 "polyray.y"
{ ACTION(MakePoly(Object_Stack->element, (int)yypvt[-3].flt, plist);) } break;
case 326:
#line 1343 "polyray.y"
{ ACTION(polynomial_action1(yypvt[-0].exper, 1);) } break;
case 327:
#line 1348 "polyray.y"
{ ACTION(VecCopy(yypvt[-2].vec, tri_vertex[npoints].pos);
               VecCopy(yypvt[-0].vec, tri_vertex[npoints].norm);
               tri_vertex[npoints].u = PLY_HUGE;
               tri_vertex[npoints].v = PLY_HUGE;
               npoints++;) } break;
case 328:
#line 1354 "polyray.y"
{ ACTION(VecCopy(yypvt[-6].vec, tri_vertex[npoints].pos);
               VecCopy(yypvt[-4].vec, tri_vertex[npoints].norm);
               tri_vertex[npoints].u = yypvt[-2].flt;
               tri_vertex[npoints].v = yypvt[-0].flt;
               npoints++;) } break;
case 329:
#line 1363 "polyray.y"
{ ACTION(npoints = 0;) } break;
case 330:
#line 1365 "polyray.y"
{ ACTION(MakeTri(Object_Stack->element, tri_vertex);) } break;
case 331:
#line 1370 "polyray.y"
{ ACTION(MakeRaw(Object_Stack->element, yypvt[-0].name, 0.0);
        polyray_free(yypvt[-0].name);) } break;
case 332:
#line 1373 "polyray.y"
{ ACTION(MakeRaw(Object_Stack->element, yypvt[-2].name, yypvt[-0].flt);
        polyray_free(yypvt[-2].name);) } break;
case 333:
#line 1379 "polyray.y"
{ ACTION(MakeHeight(Object_Stack->element, yypvt[-0].name, 1);
        polyray_free(yypvt[-0].name);) } break;
case 334:
#line 1387 "polyray.y"
{ ACTION(MakeHeightFn(Object_Stack->element, (int)yypvt[-12].flt, (int)yypvt[-10].flt,
                            yypvt[-8].flt, yypvt[-6].flt, yypvt[-4].flt, yypvt[-2].flt,
                            yypvt[-0].exper, 1);) } break;
case 335:
#line 1391 "polyray.y"
{ ACTION(MakeHeightFn(Object_Stack->element, (int)yypvt[-4].flt, (int)yypvt[-2].flt,
                            0.0, 1.0, 0.0, 1.0,
                            yypvt[-0].exper, 1);) } break;
case 336:
#line 1398 "polyray.y"
{ ACTION(MakeCylHeight(Object_Stack->element, yypvt[-0].name, 1, 1.0, 128.0);
        polyray_free(yypvt[-0].name);) } break;
case 337:
#line 1401 "polyray.y"
{ ACTION(MakeCylHeight(Object_Stack->element, yypvt[-4].name, 1,
                             yypvt[-2].flt, yypvt[-0].flt);
        polyray_free(yypvt[-4].name);) } break;
case 338:
#line 1408 "polyray.y"
{ ACTION(MakeCylHeightFn(Object_Stack->element, yypvt[-4].flt, yypvt[-2].flt,
                               yypvt[-0].exper, 1, 1.0, 128.0);) } break;
case 339:
#line 1411 "polyray.y"
{ ACTION(MakeCylHeightFn(Object_Stack->element, yypvt[-8].flt, yypvt[-6].flt,
                               yypvt[-4].exper, 1, yypvt[-2].flt, yypvt[-0].flt);) } break;
case 340:
#line 1417 "polyray.y"
{ ACTION(MakeSphHeight(Object_Stack->element, yypvt[-0].name, 0,
                             1.0, 128.0);
        polyray_free(yypvt[-0].name);) } break;
case 341:
#line 1421 "polyray.y"
{ ACTION(MakeSphHeight(Object_Stack->element, yypvt[-4].name, 1,
                             yypvt[-2].flt, yypvt[-0].flt);
        polyray_free(yypvt[-4].name);) } break;
case 342:
#line 1428 "polyray.y"
{ ACTION(MakeSphHeightFn(Object_Stack->element, yypvt[-4].flt, yypvt[-2].flt,
                               yypvt[-0].exper, 1, 1.0, 128.0);) } break;
case 343:
#line 1431 "polyray.y"
{ ACTION(MakeSphHeightFn(Object_Stack->element, yypvt[-8].flt, yypvt[-6].flt,
                               yypvt[-4].exper, 1, yypvt[-2].flt, yypvt[-0].flt);) } break;
case 344:
#line 1437 "polyray.y"
{ ACTION(MakeSphere(Object_Stack->element,
                          yypvt[-2].vec, yypvt[-0].flt);) } break;
case 345:
#line 1443 "polyray.y"
{ ACTION(MakeSphHeight(Object_Stack->element, yypvt[-0].name, 0, 1.0, 128.0);
        polyray_free(yypvt[-0].name);) } break;
case 346:
#line 1446 "polyray.y"
{ ACTION(MakeSphHeight(Object_Stack->element, yypvt[-4].name, 0,
                             yypvt[-2].flt, yypvt[-0].flt);
        polyray_free(yypvt[-4].name);) } break;
case 347:
#line 1453 "polyray.y"
{ ACTION(MakeSphHeightFn(Object_Stack->element, yypvt[-4].flt, yypvt[-2].flt,
                               yypvt[-0].exper, 0, 1.0, 128.0);) } break;
case 348:
#line 1456 "polyray.y"
{ ACTION(MakeSphHeightFn(Object_Stack->element, yypvt[-8].flt, yypvt[-6].flt,
                               yypvt[-4].exper, 0, yypvt[-2].flt, yypvt[-0].flt);) } break;
case 349:
#line 1462 "polyray.y"
{ ACTION(MakeSuperq(Object_Stack->element, yypvt[-2].flt, yypvt[-0].flt);) } break;
case 350:
#line 1467 "polyray.y"
{ ACTION(npoints = (int)yypvt[-1].flt;
               if (npoints < 2)
                  error("contours must have at least 3 sides\n");
               plist = (fVec *)polyray_malloc(((int)yypvt[-1].flt + 1) * sizeof(fVec));
               if (plist == NULL) error("Failed to allocate contour data\n");
               pl = plist;) } break;
case 351:
#line 1474 "polyray.y"
{ ACTION(if (gcount == 0) error("Too many contours for the glyph\n");
               cl->count = (int)yypvt[-3].flt;
               cl->points = plist;
               gcount--; cl++;) } break;
case 354:
#line 1487 "polyray.y"
{ ACTION(gcount = (int)yypvt[-0].flt;
               if (gcount < 1)
                  error("Glyphs must have at least one contour");
               contours = polyray_malloc(gcount * sizeof(Contour));
               if (contours == NULL)
                  error("Failed to allocate glyph data");
               cl = contours;) } break;
case 355:
#line 1495 "polyray.y"
{ ACTION(if (gcount != 0)
                  error("Wrong number of contours in glyph\n");
               MakeGlyph(Object_Stack->element, (int)yypvt[-2].flt, contours);) } break;
case 356:
#line 1502 "polyray.y"
{ ACTION(npoints = (int)yypvt[-1].flt;
            plist = (fVec *)polyray_malloc((int)yypvt[-1].flt * sizeof(fVec));
            if (plist == NULL) error("Failed to allocate sweep data\n");
            pl = plist;) } break;
case 357:
#line 1507 "polyray.y"
{ ACTION(MakeSweep(Object_Stack->element, (int)yypvt[-7].flt,
                      yypvt[-5].vec, (int)yypvt[-3].flt, plist);) } break;
case 358:
#line 1513 "polyray.y"
{ ACTION(MakeTorus(Object_Stack->element, yypvt[-6].flt, yypvt[-4].flt,
                         yypvt[-2].vec, yypvt[-0].vec);) } break;
case 359:
#line 1519 "polyray.y"
{ ACTION(Flt ftmp; Vec vtmp; NODE_PTR tnode;
               if (eval_node(NULL, yypvt[-0].exper, &ftmp, vtmp, &tnode) == 1) {
                  deallocate_node(yypvt[-0].exper);
                  yyval.flt = ftmp;
                  }
               else {
                  error("Bad fexper expression\n");
                  }) } break;
case 360:
#line 1531 "polyray.y"
{ ACTION(Flt ftmp; Vec vtmp; NODE_PTR tnode;
               if (eval_node(NULL, yypvt[-0].exper, &ftmp, vtmp, &tnode) == 2) {
                  VecCopy(vtmp, yyval.vec);
                  deallocate_node(yypvt[-0].exper);
                  }
               else {
                  error("Bad point expression\n");
                  }) } break;
case 361:
#line 1543 "polyray.y"
{ ACTION(char *stmp;
               if (create_string(yypvt[-0].exper, &stmp)) {
                  deallocate_node(yypvt[-0].exper);
                  yyval.name = stmp;
                  }
               else {
                  error("Bad sexper expression\n");
                  }) } break;
case 362:
#line 1555 "polyray.y"
{ ACTION(if (npoints==0) error("Too many points for the polygon\n");
              VecCopy(yypvt[-0].vec, (*pl)); npoints--; pl++;) } break;
case 363:
#line 1558 "polyray.y"
{ ACTION(if (npoints==0) error("Too many points for the polygon\n");
              VecCopy(yypvt[-0].vec, (*pl)); npoints--; pl++;) } break;
case 364:
#line 1564 "polyray.y"
{ ACTION(yyval.exper = yypvt[-1].exper;) } break;
case 365:
#line 1566 "polyray.y"
{ ACTION(yyval.exper = make_array_node(yypvt[-1].elist);) } break;
case 366:
#line 1568 "polyray.y"
{ ACTION(yyval.exper = make_vector3_node(yypvt[-3].exper, yypvt[-1].exper,
                                             make_value_node(0.0));) } break;
case 367:
#line 1571 "polyray.y"
{ ACTION(yyval.exper = make_vector3_node(yypvt[-5].exper, yypvt[-3].exper,
                                             yypvt[-1].exper);) } break;
case 368:
#line 1574 "polyray.y"
{ ACTION(yyval.exper = make_vector4_node(yypvt[-7].exper, yypvt[-5].exper,
                                             yypvt[-3].exper, yypvt[-1].exper);) } break;
case 369:
#line 1577 "polyray.y"
{ ACTION(yyval.exper = make_node(SUBSCRIPT_EXPER, yypvt[-3].exper, yypvt[-1].exper);) } break;
case 370:
#line 1579 "polyray.y"
{ ACTION(yyval.exper = make_cond_node(yypvt[-5].exper, yypvt[-3].exper, yypvt[-1].exper);) } break;
case 371:
#line 1581 "polyray.y"
{ ACTION(yyval.exper = make_node(POWER_EXPER, yypvt[-2].exper, yypvt[-0].exper);) } break;
case 372:
#line 1583 "polyray.y"
{ ACTION(yyval.exper = make_node(FMOD, yypvt[-2].exper, yypvt[-0].exper);) } break;
case 373:
#line 1585 "polyray.y"
{ ACTION(yyval.exper = make_node(TIMES_EXPER, yypvt[-2].exper, yypvt[-0].exper);) } break;
case 374:
#line 1587 "polyray.y"
{ yyval.exper = make_node(DOT_EXPER, yypvt[-2].exper, yypvt[-0].exper); } break;
case 375:
#line 1589 "polyray.y"
{ ACTION(yyval.exper = make_node(DIV_EXPER, yypvt[-2].exper, yypvt[-0].exper);) } break;
case 376:
#line 1591 "polyray.y"
{ ACTION(yyval.exper = make_node(PLUS_EXPER, yypvt[-2].exper, yypvt[-0].exper);) } break;
case 377:
#line 1593 "polyray.y"
{ ACTION(yyval.exper = make_node(MINUS_EXPER, yypvt[-2].exper, yypvt[-0].exper);) } break;
case 378:
#line 1595 "polyray.y"
{ ACTION(yyval.exper = make_node(TIMES_EXPER, make_value_node(-1.0),
                                     yypvt[-0].exper);)} break;
case 379:
#line 1598 "polyray.y"
{ ACTION(yyval.exper = make_fn1_node(FABS, yypvt[-1].exper);) } break;
case 380:
#line 1600 "polyray.y"
{ ACTION(yyval.exper = make_cmap_node(yypvt[-3].cmap_entry, yypvt[-1].exper);) } break;
case 381:
#line 1602 "polyray.y"
{ ACTION(yyval.exper = make_cmap_node(yypvt[-1].cmap_entry, NULL);) } break;
case 382:
#line 1604 "polyray.y"
{ ACTION(yyval.exper = make_node(NOISE, yypvt[-1].exper, NULL);) } break;
case 383:
#line 1606 "polyray.y"
{ ACTION(yyval.exper = make_node(NOISE, yypvt[-3].exper, yypvt[-1].exper);) } break;
case 384:
#line 1608 "polyray.y"
{ ACTION(yyval.exper = make_fn3_node(ROTATE, yypvt[-3].exper, yypvt[-1].exper, NULL);) } break;
case 385:
#line 1610 "polyray.y"
{ ACTION(yyval.exper = make_fn3_node(ROTATE, yypvt[-5].exper, yypvt[-3].exper,
                                         yypvt[-1].exper);) } break;
case 386:
#line 1613 "polyray.y"
{ ACTION(yyval.exper = make_node(COLOR, NULL, NULL);) } break;
case 387:
#line 1615 "polyray.y"
{ ACTION(yyval.exper = make_node(FRAME, NULL, NULL);) } break;
case 388:
#line 1617 "polyray.y"
{ ACTION(yyval.exper = make_node(END_FRAME, NULL, NULL);) } break;
case 389:
#line 1619 "polyray.y"
{ ACTION(yyval.exper = make_node(START_FRAME, NULL, NULL);) } break;
case 390:
#line 1621 "polyray.y"
{ ACTION(yyval.exper = make_node(TOTAL_FRAMES, NULL, NULL);) } break;
case 391:
#line 1623 "polyray.y"
{ ACTION(yyval.exper = check_term(yypvt[-3].name, yypvt[-1].elist);)
        polyray_free(yypvt[-3].name); } break;
case 392:
#line 1626 "polyray.y"
{ ACTION(yyval.exper = check_term0(yypvt[-0].name);)
        polyray_free(yypvt[-0].name); } break;
case 393:
#line 1629 "polyray.y"
{ ACTION(yyval.exper = make_value_node(yypvt[-0].flt);) } break;
case 394:
#line 1631 "polyray.y"
{ ACTION(yyval.exper = make_string_node(yypvt[-0].name);)
               polyray_free(yypvt[-0].name); } break;
case 395:
#line 1634 "polyray.y"
{ ACTION(yyval.exper = exper_action(yypvt[-0].name);) } break;
case 396:
#line 1639 "polyray.y"
{ ACTION(yyval.elist = make_list_node(yypvt[-0].exper);) } break;
case 397:
#line 1641 "polyray.y"
{ ACTION(yyval.elist = expression_action1(yypvt[-2].elist, yypvt[-0].exper);) } break;
case 398:
#line 1646 "polyray.y"
{ ACTION(yyval.exper = yypvt[-1].exper;) } break;
case 399:
#line 1648 "polyray.y"
{ ACTION(yyval.exper = make_node(LESS_EXPER, yypvt[-2].exper, yypvt[-0].exper);) } break;
case 400:
#line 1650 "polyray.y"
{ ACTION(yyval.exper = make_node(GREATER_EXPER, yypvt[-2].exper, yypvt[-0].exper);) } break;
case 401:
#line 1652 "polyray.y"
{ ACTION(yyval.exper = make_node(LTEQ_EXPER, yypvt[-2].exper, yypvt[-0].exper);) } break;
case 402:
#line 1654 "polyray.y"
{ ACTION(yyval.exper = make_node(GTEQ_EXPER, yypvt[-2].exper, yypvt[-0].exper);) } break;
case 403:
#line 1656 "polyray.y"
{ ACTION(yyval.exper = make_node(EQUAL_EXPER, yypvt[-2].exper, yypvt[-0].exper);) } break;
case 404:
#line 1658 "polyray.y"
{ ACTION(yyval.exper = make_node(AND_EXPER, yypvt[-2].exper, yypvt[-0].exper);) } break;
case 405:
#line 1660 "polyray.y"
{ ACTION(yyval.exper = make_node(OR_EXPER, yypvt[-2].exper, yypvt[-0].exper);) } break;
case 406:
#line 1662 "polyray.y"
{ ACTION(yyval.exper = make_node(NOT_EXPER, yypvt[-1].exper, NULL);) } break;
case 407:
#line 1667 "polyray.y"
{ ACTION(yyval.cmap_entry =
                 map_entry_action1(yypvt[-7].flt, yypvt[-5].flt,
                                   yypvt[-3].vec, 0.0, yypvt[-1].vec, 0.0);) } break;
case 408:
#line 1671 "polyray.y"
{ ACTION(yyval.cmap_entry =
                 map_entry_action1(yypvt[-11].flt, yypvt[-9].flt,
                                   yypvt[-7].vec, yypvt[-5].flt,
                                   yypvt[-3].vec, yypvt[-1].flt);) } break;
case 409:
#line 1679 "polyray.y"
{ ACTION(yyval.cmap_entry = yypvt[-0].cmap_entry;) } break;
case 410:
#line 1681 "polyray.y"
{ ACTION(yyval.cmap_entry = map_entry_action2(yypvt[-1].cmap_entry,
                                                  yypvt[-0].cmap_entry);) } break;
case 415:
#line 1694 "polyray.y"
{ ACTION(end_frame = (int)yypvt[-0].flt;) } break;
case 416:
#line 1699 "polyray.y"
{ ACTION(start_frame = (int)yypvt[-0].flt;
               if (!Parsed_Flag) current_frame = start_frame;) } break;
case 417:
#line 1705 "polyray.y"
{ ACTION(total_frames = (int)yypvt[-0].flt;) } break;
case 418:
#line 1710 "polyray.y"
{ ACTION(frame_time = yypvt[-0].flt;) } break;
case 419:
#line 1715 "polyray.y"
{ ACTION(if (!Parsed_Flag) {
                  strcpy(outfilebase, yypvt[-0].name);
                  filebaseflag = 1;
                  })
        polyray_free(yypvt[-0].name); } break;
case 420:
#line 1721 "polyray.y"
{ ACTION(if (!Parsed_Flag) {
                  strcpy(outfilebase, yypvt[-0].name);
                  filebaseflag = 1;
                  })
        polyray_free(yypvt[-0].name); } break;
case 421:
#line 1730 "polyray.y"
{ ACTION(flush_action((int)yypvt[-0].flt);) } break;
case 422:
#line 1735 "polyray.y"
{ ACTION(evaluate_system_call(yypvt[-1].elist);) } break;
case 425:
#line 1745 "polyray.y"
{ condition_flags[condition_depth] = 1-condition_flags[condition_depth]; } break;
case 428:
#line 1752 "polyray.y"
{ Flt ftmp; Vec vtmp; NODE_PTR tnode;
        if (check_condition()) {
           if (eval_node(NULL, yypvt[-1].exper, &ftmp, vtmp, &tnode) == 1 &&
               ftmp != 0.0) {
              condition_flags[++condition_depth] = 1;
              }
           else
              condition_flags[++condition_depth] = 0;
           deallocate_node(yypvt[-1].exper);
           }
        else
           condition_flags[++condition_depth] = 0; 
     } break;
case 429:
#line 1766 "polyray.y"
{ condition_depth--; } break;
      }
   goto yystack; /* Reset registers in driver code */
}
